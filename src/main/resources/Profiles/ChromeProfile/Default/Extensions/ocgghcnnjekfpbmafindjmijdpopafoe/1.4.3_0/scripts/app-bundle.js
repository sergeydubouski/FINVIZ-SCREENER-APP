var __decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("app",["require","exports","aurelia-framework","aurelia-logging","aurelia-store","shared/index","./data/actions/app-state","./data/actions/playground","./data/actions/selectors","./data/app-service","./data/chrome-service"],function(e,t,i,n,o,a,s,r,c,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const u=n.getLogger("devtools-ext");let p=class{constructor(e,t,i){this.store=e,this.chromeService=t,this.appService=i,this.platform="platform-windows",this.isDarkTheme=!1,this.subscriptions=[],this.languages=Object.entries(a.languages).map(([e,t])=>({key:e,label:t.label}))}attached(){return __awaiter(this,void 0,void 0,function*(){const e=window.navigator.platform.toLowerCase();if(chrome.devtools.network.onNavigated.addListener(()=>{this.store.dispatch(s.setContentScriptAvailable,!1)}),chrome.devtools.inspectedWindow.onResourceAdded.addListener(e=>__awaiter(this,void 0,void 0,function*(){if(e.url===`chrome-extension://${window.location.host}/scripts/inject-bundle.js`){const e=yield this.chromeService.isPageSupported();this.store.dispatch(s.setContentScriptAvailable,e),e&&this.store.dispatch(r.updateSelectorOptions,yield this.chromeService.getDefaultSelectorOptions())}})),e.indexOf("win")>-1&&(this.platform="platform-windows"),e.indexOf("mac")>-1&&(this.platform="platform-mac"),e.indexOf("linux")>-1&&(this.platform="platform-linux"),document.body.classList.add(this.platform),this.isDarkTheme=this.chromeService.isDarkMode(),this.isDarkTheme){const e=document.getElementById("theme-css");e&&(e.href=e.href.replace("light","dark"))}this.subscriptions.push(this.store.state.subscribe(e=>{u.info("new state:",e),this.state=e}));const t=this.chromeService.onSelectionChanged();this.subscriptions.push(this.appService.connectToAppConnectionState()),this.subscriptions.push(this.appService.connectToApp()),this.subscriptions.push(t.subscribe(e=>this.store.dispatch(c.setInspectedState,e.selectors,e.inspected))),this.subscriptions.push(yield this.connectToBackground());const i=yield this.chromeService.load("mainConfig");i&&this.store.dispatch(s.updateMainConfig,i,this.chromeService);const n=yield this.chromeService.isPageSupported();this.store.dispatch(s.setContentScriptAvailable,n),this.store.dispatch(r.updateSelectorOptions,yield this.chromeService.getDefaultSelectorOptions()),yield this.chromeService.updateInspectedFrame(),yield this.chromeService.ensureInspectedElementIntegrity(),this.store.dispatch(c.setInspectedState,yield this.chromeService.buildSelectors(),yield this.chromeService.getInspectedInfo("inspected"))})}detached(){this.subscriptions.forEach(e=>e.unsubscribe())}updateUserSelector(e){u.debug("[main] update user selector",e),this.store.dispatch(r.inspectBySelector,{selector:e})}toggleSelectorState(e){this.store.dispatch(c.toggleSelectorState,e)}updateMainConfig(e){this.store.dispatch(s.updateMainConfig,e,this.chromeService)}connectToBackground(){return __awaiter(this,void 0,void 0,function*(){return yield this.chromeService.connectListenerToBackground((e,t)=>__awaiter(this,void 0,void 0,function*(){if(u.debug("[main] received message from bg",e),function(e){return"object"==typeof e&&"string"==typeof e.msg}(e))if("mouse-target-update"===e.msg)this.chromeService.updateLastClickedFrameURL(e.frameURL);else if("update-user-selector"===e.msg){if(!e.selector)throw new Error(`malformed msg '${e}': missing field 'selector'.`);u.debug("[main] trigger user selector update from bg"),this.updateUserSelector(e.selector.selector)}else if("tab-activated"===e.msg)yield this.chromeService.sendMessageToBackground("connection-state-changed",this.state.appConnection);else if("send-selector-to-app"===e.msg){if(!e.selector)throw new Error(`malformed msg '${e}': missing field 'selector'.`);u.debug("[main] trigger user selector update from bg");const t=this.appService.getSelectorNameByLanguage(e.selector.name||"",this.state.projectTargetLanguage);try{yield this.appService.sendSelectorToApp({elementFilePath:e.selector.elementFilePath,listView:{expanded:!1},matchingElements:1,name:t,selector:e.selector.selector,strategy:e.strategy},"mouseTarget"),this.chromeService.showNotification(a.guid(),"../images/icons/notification-send-success.svg",`'${t}' has been added to the active Page Object file.`,"Selector sent successfully")}catch(e){this.chromeService.showNotification(a.guid(),"../images/icons/notification-send-fail.svg",e.message,"Sending selector failed")}}return!1}))})}};p=__decorate([i.autoinject(),__metadata("design:paramtypes",[o.Store,d.ChromeService,l.AppService])],p),t.App=p}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!0,testing:!0}});__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("main",["require","exports","aurelia-store","./data/state-models","./data/store-utils","./environment"],function(e,t,i,n,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=function(e){return __awaiter(this,void 0,void 0,function*(){e.use.defaultBindingLanguage().defaultResources().eventAggregator(),e.use.plugin("aurelia-dialog").plugin("aurelia-store",{initialState:o.shallowClone(n.INITIAL_STATE,{mainConfig:o.shallowClone(n.INITIAL_STATE.mainConfig,yield function(){return __awaiter(this,void 0,void 0,function*(){if(chrome&&chrome.extension&&chrome.extension.inIncognitoContext)return{};const e=new Promise(e=>chrome.storage.local.get(t=>e(t.mainConfig)));return e||{}})}())}),logDefinitions:{dispatchedActions:i.LogLevel.debug},logDispatchedActions:!0}),a.default.debug&&e.use.developmentLogging(),a.default.testing&&e.use.plugin("aurelia-testing"),e.use.feature("./custom-elements").feature("./custom-attributes"),e.start().then(()=>e.setRoot())})}});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("banner/banner",["require","exports","aurelia-framework","aurelia-store","rxjs","rxjs/operators","../data/actions/app-state","../data/chrome-service"],function(e,t,i,n,o,a,s,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let c=class{constructor(e,t,i){this.chromeService=e,this.store=t,this.taskQueue=i,this.expanded=!0,this.bannerStateClass="",this.clickedExpand=!1}get isDarkTheme(){return this.chromeService.isDarkMode()}get isBannerDismissed(){return!s.CURRENT_BANNER_ID||this.state&&this.state.mainConfig&&this.state.mainConfig.bannerDismissed===s.CURRENT_BANNER_ID}attached(){return __awaiter(this,void 0,void 0,function*(){this.store.state.subscribe(e=>{this.state=e}),this.subscription=o.fromEvent(window,"resize").pipe(a.debounceTime(500)).subscribe(()=>{this.calculateBannerHeight()}),this.calculateBannerHeight()})}detached(){this.subscription.unsubscribe()}calculateBannerHeight(){if(window&&this.banner){const e=this.expanded;this.bannerStateClass="",this.expanded=!0,this.taskQueue.queueMicroTask(()=>{const t=this.banner.offsetTop,i=this.banner.clientHeight;this.expanded=e,t<0&&(this.bannerStateClass="banner__container--hidden"),i>window.innerHeight/2?this.expanded=!1:this.expanded=!0})}}dismissBanner(){this.store.dispatch(s.dismissBanner,this.chromeService)}toggleBanner(){this.expanded=!this.expanded,this.clickedExpand=!this.clickedExpand}};__decorate([i.computedFrom("state"),__metadata("design:type",Boolean),__metadata("design:paramtypes",[])],c.prototype,"isBannerDismissed",null),c=__decorate([i.autoinject(),__metadata("design:paramtypes",[r.ChromeService,n.Store,i.TaskQueue])],c),t.Banner=c}),define("custom-elements/index",["require","exports","./page-object-panel/page-object-panel","./configuration-panel/configuration-panel","./dropdown-box/dropdown-box","./editable-text-field/editable-text-field","./labeled-checkbox/labeled-checkbox","./tree-outline/tree-outline","./tree-outline/tree-outline-item","./notification-box/notification-box"],function(e,t,i,n,o,a,s,r,c,l){"use strict";function d(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=function(e){e.globalResources(["./configuration-panel/configuration-panel","./dropdown-box/dropdown-box","./editable-text-field/editable-text-field","./labeled-checkbox/labeled-checkbox","./tree-outline/tree-outline","./tree-outline/tree-outline-item","./notification-box/notification-box","./page-object-panel/page-object-panel"])},d(i),d(n),d(o),d(a),d(s),d(r),d(c),d(l)}),define("custom-attributes/index",["require","exports","./trap-focus"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=function(e){e.globalResources(["./trap-focus"])},function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i)});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("custom-attributes/trap-focus",["require","exports","aurelia-framework"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=class{constructor(e){this.keyPress=(e=>{const t=this.findTopmostDialog();if("Tab"===e.key&&e.target&&!this.element.contains(e.target)&&(!t||t.contains(this.element))){const t=Array.from(this.element.querySelectorAll("input:not(disabled), textarea:not(disabled), button:not(disabled), [tabindex]")).filter(e=>e.tabIndex>=0).sort((e,t)=>e.tabIndex>t.tabIndex?1:e.tabIndex<t.tabIndex?-1:0);t[e.shiftKey?t.length-1:0].focus()}}),this.element=e}attached(){document.addEventListener("keyup",this.keyPress)}detached(){document.removeEventListener("keyup",this.keyPress)}findTopmostDialog(){const e=document.getElementsByTagName("ux-dialog-container");let t,i=0;return Array.from(e).forEach(e=>{const n=document.defaultView.getComputedStyle(e,null).getPropertyValue("z-index");"auto"!==n&&parseInt(n,10)>=i&&(i=parseInt(n,10),t=e)}),t}};n=__decorate([i.customAttribute("trap-focus"),i.inject(Element),__metadata("design:paramtypes",[HTMLElement])],n),t.TrapFocus=n});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("data/app-service",["require","exports","aurelia-framework","aurelia-store","change-case","shared/guid","rxjs/operators","./actions/app-state","./chrome-service","./reconnecting-socket"],function(e,t,i,n,o,a,s,r,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let d=class{constructor(e,t){this.store=e,this.chromeService=t,this.wsClient=new l.ReconnectingSocket("ws://localhost:3000"),this.logger=i.LogManager.getLogger("RxSeStore"),this.store.state.subscribe(e=>{this.state=e})}connectToApp(){return this.wsClient.subscribe(e=>{this.messageReceived(e)},e=>{this.logger.error("wss-error",e)})}connectToAppConnectionState(){return this.wsClient.connectionState.subscribe(e=>{this.store.dispatch(r.setAppConnectionState,e,this.chromeService)})}reconnectToApp(){this.wsClient.reconnect()}disconnectFromApp(){this.wsClient.disconnect()}sendSelectorToApp(e,t){return __awaiter(this,void 0,void 0,function*(){const i=yield this.chromeService.takeScreenshot(t).catch(e=>{this.logger.warn(`Failed to create screenshot, reason: ${e}`)}),n=yield this.chromeService.getInspectedInfo(t).then(e=>e.tagName,e=>{this.logger.warn(`Failed to get tag name, reason: ${e}`)}),o=yield this.sendRequest({action:"sendSelectorToApp",payload:{elementFilePath:e.elementFilePath,image:i,name:e.name||this.getSelectorNameByLanguage("NewElement",this.state.projectTargetLanguage),selector:e.selector,strategy:e.strategy,tagName:n},transactionId:a.guid()});if("success"!==o.type)throw new Error(o.msg);return o.transactionId})}createPageObject(e,t){return __awaiter(this,void 0,void 0,function*(){const i=yield this.sendRequest({action:"createPageObject",payload:{image:t,pageObjectName:e},transactionId:a.guid()});if("success"!==i.type)throw new Error(i.msg);return i.transactionId})}editPageObjectScreenshot(e,t){return __awaiter(this,void 0,void 0,function*(){const i=yield this.sendRequest({action:"editPageObjectScreenshot",payload:{image:t,pageObjectName:e.className},transactionId:a.guid()});if("success"!==i.type)throw new Error(i.msg);return i.transactionId})}getSelectorNameByLanguage(e,t){let i=e.replace(/[^a-zA-Z0-9\$\_]/g,"");if(0===i.length)return i;switch(t){case"ts":case"java":/^_*\d/.test(i)&&(i="sel"+i),i=o.camelCase(i);break;case"python":i=(i=o.snakeCase(i)).length?"_"+i:""}return i}messageReceived(e){return __awaiter(this,void 0,void 0,function*(){this.logger.info("wss-info",e),e.hasOwnProperty("action")&&this.handleRequest(e)})}handleRequest(e){return __awaiter(this,void 0,void 0,function*(){switch(e.action){case"sendElementToExtension":yield this.store.dispatch(r.setReceivedElement,this.chromeService,e.payload);break;case"getCapabilities":this.store.dispatch(r.setAppConnectionCapabilities,e.payload),this.wsClient.sendResponse({payload:{editSelector:!0,updateElementScreenshots:!0,version:this.chromeService.getVersion()},transactionId:e.transactionId,type:"getCapabilities"});break;case"currentFileChanged":{const t=e.payload;yield this.store.dispatch(r.setCurrentFile,t&&"pofile"===t.fileSubType?t:void 0);break}case"setTargetLanguage":{const t=e.payload.targetLanguage;yield this.store.dispatch(r.setProjectTargetLanguage,t);break}case"updateElementScreenshots":{const t=e.payload,i=[];for(const e of t)if(yield this.store.dispatch(r.setReceivedElement,this.chromeService,e),yield new Promise(e=>setTimeout(e,200)),this.state.playground.numberOfFoundElements){const t=yield this.chromeService.takeScreenshot("inspected").catch(e=>{this.logger.warn(`Failed to create screenshot, reason: ${e}`)});e.image=t,i.push(e)}this.wsClient.sendResponse({payload:[...i],transactionId:e.transactionId,type:"updateElementScreenshots"}),yield this.store.dispatch(r.setCurrentElement,void 0);break}}})}sendRequest(e,t=l.TIMEOUT_WEBSOCKET_REPLY_WAIT){return __awaiter(this,void 0,void 0,function*(){return this.wsClient.sendRequest(e),yield this.wsClient.pipe(s.filter(t=>t.transactionId===e.transactionId),s.timeout(t),s.take(1)).toPromise()})}};d=__decorate([i.autoinject(),__metadata("design:paramtypes",[n.Store,c.ChromeService])],d),t.AppService=d});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("data/chrome-service",["require","exports","aurelia-framework","aurelia-logging","aurelia-store","rxjs","rxjs/operators","../util/math","../util/retry","./state-models","./store-utils"],function(e,t,i,n,o,a,s,r,c,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let u=class{constructor(e){this.chrome=window.chrome,this.logger=n.getLogger("chrome-service"),this.subscriptions=[],this.subscriptions.push(e.state.subscribe(e=>this.mainConfig=d.shallowClone(e.mainConfig)))}getVersion(){return this.chrome.runtime.getManifest().version}isDarkMode(){return this.chrome&&this.chrome.devtools&&this.chrome.devtools.panels&&"dark"===this.chrome.devtools.panels.themeName}isIncognito(){return this.chrome&&this.chrome.extension&&this.chrome.extension.inIncognitoContext}updateLastClickedFrameURL(e){this.lastClickedFrameURL=e}isPageSupported(){return __awaiter(this,void 0,void 0,function*(){try{const e=yield this.evalInFrame("window.location.protocol",{frameURL:"rxse:top"});return!!e&&(e.startsWith("http:")||e.startsWith("https:")||e.startsWith("file:"))}catch(e){return!1}})}getMergedBaseOptions(){return __awaiter(this,void 0,void 0,function*(){const e=d.shallowClone(yield this.getDefaultOptions()),t=yield this.getMainConfig();for(const i of Object.keys(e))for(const n of e[i])d.assign(n,t);return e})}buildSelectors(e){return __awaiter(this,void 0,void 0,function*(){const t=yield this.getMergedBaseOptions();d.assign(t,e||{});try{return this.selectorDictionaryToArray(yield this.evalInFrame(this.buildCode("buildSelectors",[()=>"$0",t]),{frameURL:"rxse:inspected"}))}catch(e){if(e instanceof Error&&"All frames failed to evaluate"===e.message)return[];throw e}})}autoEvaluateSelector(e,t,i=0){return __awaiter(this,void 0,void 0,function*(){this.logger.debug("[cs] try apply",e,i);try{const n=yield this.getAllFrameUrls({excludeSameOrigin:!0});let o=0;const a=[];let s=t;const r=t=>__awaiter(this,void 0,void 0,function*(){const i=yield this.evalInFrame(this.buildCode("autoEvaluateSelector",[e,s,null]),{frameURL:t}).catch(()=>void 0),n=i&&i.length||0;return o+=n,{hitCount:n,detectedStrategy:i&&i.selectorName}});for(let e=0;e<n.length;e++){if(s){a.push(...yield Promise.all(n.slice(e).map(e=>r(e).then(e=>e.hitCount))));break}const{hitCount:t,detectedStrategy:i}=yield r(n[e]);a.push(t),i&&(s=i)}i>=o?i=0:i<0&&(i=o-1);const c=this.waitForInspect(),l=this.waitForInspect(2);let d,u,p=-1;for(let t=0,o=0;t<n.length;o+=a[t],t++){const r=n[t];if(i-o<a[t]){const t=yield this.evalInFrame(this.buildCode("autoEvaluateSelector",[e,s,i-o]),{frameURL:r}).catch(()=>void 0);if(t&&t.length){u=r,p=(d=t).inspectIndex,d.inspectIndex=d.inspectIndex+o;break}}}if(!d)throw yield this.unhighlightElements(),new Error("All frames failed to evaluate");return d.length=o,d.inspectedChanged&&(yield"triple"===d.inspectedChanged?l:c),d.length>0&&(yield this.highlightElements({selector:e,strategy:d.selectorName},u?{frameURL:u,index:p}:void 0)),d}catch(e){if(yield this.unhighlightElements(!0),e instanceof Error&&"All frames failed to evaluate"===e.message)return{inspectIndex:0,inspectedChanged:!1,length:0,name:null,selectorName:""};throw e}})}copyToClipboard(e){const t=`copy(${JSON.stringify(e)})`;return this.eval(t)}takeScreenshot(e){return __awaiter(this,void 0,void 0,function*(){const t=yield this.focusAndGetElement(e);let i=yield this.captureVisibleTab();const n=new Image;return n.src=i,i=yield this.getImagePortion(n,t)})}captureVisibleTab(){const e=this.chrome.devtools.inspectedWindow.tabId;return new Promise(t=>{this.chrome.tabs.get(e,i=>{this.chrome.tabs.update(e,{active:!0}),this.chrome.tabs.captureVisibleTab(i.windowId,{format:"png"},e=>{t(e)})})})}getImagePortion(e,t){return __awaiter(this,void 0,void 0,function*(){return new Promise(i=>{e.onload=(()=>{const n=e.naturalHeight,o=e.naturalWidth,a=n/t.viewPortHeight;t.top*=a,t.left*=a,t.width*=a,t.height*=a;let s=.1*t.width,c=.1*t.height;s=Math.max(s,80-(.5*t.width+s)),c=Math.max(c,50-(.5*t.height+c));let l=Math.max(0,t.left-s),d=Math.max(0,t.top-c);const u=Math.min(o,t.left+t.width+s),p=Math.min(n,t.top+t.height+c);let h=u-l,f=p-d;h/f>1.6?(f=Math.min(n,h/1.6),d=r.clamp(.5*(d+p-f),0,n-f)):h/f<1.6&&(h=Math.min(o,1.6*f),l=r.clamp(.5*(l+u-h),0,o-h));const m=document.createElement("canvas"),g=m.getContext("2d");m.width=h,m.height=f;const b=document.createElement("canvas"),_=b.getContext("2d");if(!_||!g)return i("");b.width=e.width,b.height=e.height,_.drawImage(e,0,0),g.drawImage(b,l,d,h,f,0,0,h,f),i(m.toDataURL())})})})}highlightElements(e,t){return __awaiter(this,void 0,void 0,function*(){this.mainConfig.enableHighlighting&&(yield this.parallelEvalInAllFrames(this.buildCode("highlightElementsBySelector",[e.selector,e.strategy,t]),{excludeSameOrigin:!0}))})}unhighlightElements(e=!1){return __awaiter(this,void 0,void 0,function*(){(e||this.mainConfig.enableHighlighting)&&(yield this.parallelEvalInAllFrames(this.buildCode("unhighlightElements",[]),{excludeSameOrigin:!0}))})}getInspectedInfo(e){return __awaiter(this,void 0,void 0,function*(){const t="mouseTarget"===e?"rxse:mouseTarget":"rxse:inspected",i="mouseTarget"===e?this.buildCode("getLastMouseTarget",[]):"$0",[n,o]=yield Promise.all([this.evalInFrame(`${i}.tagName.toLowerCase()`,{frameURL:t}),this.evalInFrame(`!!${this.buildCode("getContainingIframe",[()=>i])} || !${this.buildCode("isTop",[])}`,{frameURL:t})]);return{inIframe:o,tagName:n}})}onSelectionChanged(){return new a.Observable(e=>{const t=this.observeOnSelectionChanged().subscribe(()=>__awaiter(this,void 0,void 0,function*(){const t=yield this.unhighlightElements().then(()=>this.updateInspectedFrame()).then(()=>this.buildSelectors()),i=yield this.getInspectedInfo("inspected");e.next({selectors:t,inspected:i})}));return()=>t.unsubscribe()})}getDefaultOptions(){return __awaiter(this,void 0,void 0,function*(){this.defaultOptions=this.defaultOptions||(yield this.evalInFrame(this.buildCode("getDefaultOptions",[]),{frameURL:"rxse:top"}));const e=d.shallowClone(this.defaultOptions);for(const t of Object.keys(e))e[t]=e[t].map(e=>Object.assign({},e));return e})}getDefaultSelectorOptions(){return __awaiter(this,void 0,void 0,function*(){const e=[];e.push({label:l.defaultAutoDetectLabel,value:l.autoDetectValue});try{const t=yield this.getDefaultOptions();Object.keys(t).forEach(t=>e.push({label:t,value:t}))}catch(e){}return e})}connectListenerToBackground(e){const t=chrome.runtime.connect();return t.onMessage.addListener(e),t.postMessage({msg:"set-up",tabId:window.chrome.devtools.inspectedWindow.tabId}),new a.Subscription(()=>t.disconnect())}sendMessageToBackground(e,t){return __awaiter(this,void 0,void 0,function*(){chrome.runtime.sendMessage({msg:"connection-state-changed",request:t})})}getMainConfig(){return __awaiter(this,void 0,void 0,function*(){return(yield this.load("mainConfig"))||{}})}load(e){return __awaiter(this,void 0,void 0,function*(){if(!this.isIncognito())return new Promise(t=>chrome.storage.local.get(i=>t(i[e])))})}persist(e,t){return __awaiter(this,void 0,void 0,function*(){if(!this.isIncognito())return yield new Promise(i=>chrome.storage.local.set({[e]:t},i))})}copySelectorToClipboard(e){const{copyWithQuotes:t}=this.mainConfig,i=t?JSON.stringify(e):e;this.copyToClipboard(i)}showNotification(e,t,i,n){this.chrome.notifications&&this.chrome.notifications.create(e,{iconUrl:t,message:i,title:n,type:"basic"},()=>{})}updateInspectedFrame(){return __awaiter(this,void 0,void 0,function*(){const e=this.parallelEvalInAllFrames(this.buildCode("hasChangedSinceLastInspect",[]),{excludeSameOrigin:!0}).then(e=>{const t=e.find(e=>!0===e.result);return t&&t.frameURL});return this.lastInspectedFrameURLPromise=e,e.then(t=>{this.lastInspectedFrameURLPromise===e&&(this.lastInspectedFrameURLPromise=void 0),t&&(this.lastInspectedFrameURL=t)}),e})}ensureInspectedElementIntegrity(){return this.evalInFrame("$0 && inspect($0)",{frameURL:"rxse:inspected"})}inspectParentIframeOfInspected(){return __awaiter(this,void 0,void 0,function*(){if(yield this.evalInFrame("(() => {\n      const frameElement = $0.ownerDocument.defaultView.frameElement;\n      return frameElement && inspect(frameElement);\n    })()",{frameURL:"rxse:inspected"}))return;const e=yield this.evalInFrame(this.buildCode("getTopFrameURL",[])),t=(yield this.parallelEvalInAllFrames(`!!${this.buildCode("findIframeByFrameURL",[e])}`,{excludeSameOrigin:!0})).find(e=>!!e.result);if(!t)throw new Error("Failed to find parent iframe of inspected element");yield this.evalInFrame(`inspect(${this.buildCode("findIframeByFrameURL",[e])})`,{frameURL:t.frameURL})})}focusAndGetElement(e){return __awaiter(this,void 0,void 0,function*(){const t="inspected"===e?this.lastInspectedFrameURL:this.lastClickedFrameURL,i="mouseTarget"===e?this.buildCode("getLastMouseTarget",[]):"$0";yield this.evalInFrame(this.buildCode("scrollIntoView",[()=>i])),yield new Promise(e=>setTimeout(e,200));const[n,o]=yield Promise.all([this.evalInFrame(this.buildCode("getElementPosition",[()=>i,!0]),{frameURL:t}),this.evalInFrame(`!${this.buildCode("isTop",[])} && !${this.buildCode("isSameOriginIframe",[!0])} && ${this.buildCode("getTopFrameURL",[])}`,{frameURL:t})]);let a=o;for(;a;){const e=(yield this.parallelEvalInAllFrames(`(() => {\n        const iframe = ${this.buildCode("findIframeByFrameURL",[a])};\n        return iframe && ${this.buildCode("getElementPosition",[()=>"iframe",!0])};\n      })()`,{excludeSameOrigin:!0})).find(e=>!!e.result);e&&(n.viewPortHeight=e.result.viewPortHeight,n.top+=e.result.top,n.left+=e.result.left),a=e&&e.frameURL}return n})}eval(e,t={useContentScriptContext:!0}){return new Promise((i,n)=>{this.chrome.devtools.inspectedWindow.eval(e,t,(e,t)=>{if(t)return t.isException?void n(new Error(t.value)):t.isError?void n(new Error([t.description,...t.details].join(","))):(this.logger.debug("unexpected error type in eval",t),void n(t));try{i(e)}catch(e){n(e)}})})}parallelEvalInAllFrames(e,t={}){return __awaiter(this,void 0,void 0,function*(){const i=yield this.getAllFrameUrls(t);return Promise.all(i.map(t=>__awaiter(this,void 0,void 0,function*(){try{return{result:yield this.eval(e,{useContentScriptContext:!0,frameURL:t}),frameURL:t}}catch(e){return{error:e,frameURL:t}}})))})}evalInFrame(e,t={}){const i=d.assign({frameURL:"rxse:inspected",retryCount:0,waitTime:100},t);return c.retry(i.retryCount,i.waitTime,()=>this.eval(e,{frameURL:"rxse:top"===i.frameURL?void 0:"rxse:inspected"===i.frameURL?this.lastInspectedFrameURL:"rxse:mouseTarget"===i.frameURL?this.lastClickedFrameURL:i.frameURL,useContentScriptContext:!0}))}selectorDictionaryToArray(e){return Object.entries(e).map(e=>e[1].filter(e=>e.selector&&e.matchingElements&&e.matchingElements>0).map(t=>({listView:{expanded:!1},matchingElements:t.matchingElements,name:t.name,selector:t.selector,strategy:e[0]})).reduce((e,t)=>e.some(e=>e.selector===t.selector)?e:e.concat(t),[])).reduce((e,t)=>e.concat(t),[])}getAllFrameUrls(e={}){return __awaiter(this,void 0,void 0,function*(){const t=[],i=yield new Promise(e=>this.chrome.devtools.inspectedWindow.getResources(e)),n=[...e.excludeTop?[this.buildCode("isTop",[])]:[],...e.excludeSameOrigin?[this.buildCode("isSameOriginIframe",[])]:[]].join(" || ");for(const e of i)try{if("document"!==e.type||n&&(yield this.eval(n,{frameURL:e.url,useContentScriptContext:!0})))continue;t.push(e.url)}catch(e){}return t})}waitForInspect(e=0){return new Promise(t=>__awaiter(this,void 0,void 0,function*(){a.zip(a.fromEvent(window,"blur"),this.observeOnSelectionChanged().pipe(s.skip(e))).pipe(s.take(1),s.timeout(5e3)).subscribe(()=>__awaiter(this,void 0,void 0,function*(){yield c.waitFor(0),t()}),()=>t())}))}observeOnSelectionChanged(){return a.fromEventPattern(e=>this.chrome.devtools.panels.elements.onSelectionChanged.addListener(e),e=>this.chrome.devtools.panels.elements.onSelectionChanged.removeListener(e))}buildCode(e,t){return`window.RxSeSUT.${e}${Array.isArray(t)?`(${t.map(e=>"function"==typeof e?e():void 0===e?"undefined":JSON.stringify(e)).join(",")})`:""}`}};u=__decorate([i.autoinject(),__metadata("design:paramtypes",[o.Store])],u),t.ChromeService=u});__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("data/reconnecting-socket",["require","exports","rxjs"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=3e3,o=3200,a=20;class s extends i.Subject{constructor(e,t,n){super(),this.url=e,this.socket=null,this.autoReconnect=!1,this.cancelConnection=!1,this.resultSelector=t||s.defaultResultSelector,this.serializer=n||s.defaultSerializer,this.connectionStateSubject=new i.Subject,this.connectionState=this.connectionStateSubject.asObservable()}static defaultResultSelector(e){return JSON.parse(e.data)}static defaultSerializer(e){return JSON.stringify(e)}reconnect(){return __awaiter(this,void 0,void 0,function*(){this.socket=null,this.connectionStateSubject.next("connecting");try{this.autoReconnect=!0,this.socket=yield this.openInRange(n,o),this.socket&&this.connectionStateSubject.next("connected")}catch(e){console.log("Failed to connect",e),this.connectionStateSubject.next("disconnected"),this.autoReconnect=!1}})}disconnect(){return __awaiter(this,void 0,void 0,function*(){this.autoReconnect=!1,this.cancelConnection=!0,this.socket&&(this.socket.close(),this.connectionStateSubject.next("disconnected"),this.cancelConnection=!1)})}cancel(){return __awaiter(this,void 0,void 0,function*(){yield this.disconnect(),this.cancelConnection=!1,this.connectionStateSubject.next("disconnected")})}sendRequest(e){if(!this.socket)throw new Error("invalid_op: socket not available");this.socket.send(this.serializer(e))}sendResponse(e){if(!this.socket)throw new Error("invalid_op: socket not available");this.socket.send(this.serializer(e))}openInRange(e,t){return __awaiter(this,void 0,void 0,function*(){for(let i=e;i<t;i+=a){try{const e=this.parallelOpen(i,Math.min(i+a,t));return yield this.firstSuccessfull(e)}catch(e){}if(this.cancelConnection)return yield this.cancel(),null}throw new Error("All ports exhausted")})}firstSuccessfull(e){return new Promise((t,i)=>{const n=[];for(const o of e)o.then(t).catch(t=>{n.push(o),n.length===e.length&&i(t)})})}parallelOpen(e,t){const i=[];for(let n=e;n<t;n++)i.push(this.open(n));return i}open(e){return __awaiter(this,void 0,void 0,function*(){const t=new URL(this.url);t.port=`${e}`;const i=new WebSocket(t.toString());let n=!1;return new Promise((e,t)=>{i.addEventListener("close",e=>{if(n&&this.socket===i&&this.autoReconnect)this.reconnect();else{const i=new Error("Failed to open socket: "+e);i.data=e,t(i)}}),i.addEventListener("error",e=>{n&&console.log("error in open connection",e)}),i.addEventListener("message",e=>{this.socket===i&&this.next(this.resultSelector(e))}),i.addEventListener("open",()=>{n=!0,e(i)})})})}}t.ReconnectingSocket=s,t.TIMEOUT_WEBSOCKET_REPLY_WAIT=1e4}),define("data/state-models",["require","exports","../util/environment"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultAutoDetectLabel="auto-detect",t.autoDetectValue="auto-detect",t.INITIAL_STATE={activeSelectors:[],appConnection:"disconnected",contentScriptAvailable:!0,isDebugMode:window.navigator.webdriver&&!i.isRanorexUiTest(),mainConfig:{bannerDismissed:!1,copyWithQuotes:!1,enableHighlighting:!0,ignoreDynamicIds:!0,leftTrimPaths:!0,relaxedIntermediateUniques:!1,usePartialClassNameMatching:!0},playground:{currentElementIndex:0,currentHistoryIndex:null,forcedStrategy:t.defaultAutoDetectLabel,foundStrategy:"",history:[],numberOfFoundElements:0,selector:"",selectorName:null,selectorOptions:[{label:t.defaultAutoDetectLabel,value:t.autoDetectValue}],selectorState:null}}}),define("data/store-utils",["require","exports","aurelia-framework","aurelia-store"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shallowClone=function(e,...t){return Object.assign({},e,...t)},t.assign=function(e,...t){return Object.assign(e,...t)},t.registerToStore=function(...e){if(i.Container.instance){const t=i.Container.instance.get(n.Store);e.forEach(e=>{t.registerAction(e.name,e)})}}}),define("inject/inject-api",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("playground/element-edit",["require","exports","aurelia-framework","aurelia-store","../data/actions/app-state"],function(e,t,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=class{constructor(e){this.store=e}removeElement(){this.store.dispatch(o.setCurrentElement,void 0)}};__decorate([i.bindable(),__metadata("design:type",Object)],a.prototype,"element",void 0),a=__decorate([i.autoinject(),__metadata("design:paramtypes",[n.Store])],a),t.ElementEdit=a});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("playground/evaluation-box",["require","exports","aurelia-dialog","aurelia-framework","aurelia-store","aurelia-templating","../custom-elements/dialogs/dialogs","../data/actions/app-state","../data/actions/history","../data/actions/playground","../data/actions/playground","../data/app-service","../data/chrome-service","../data/state-models","../ui-tools/key-codes"],function(e,t,i,n,o,a,s,r,c,l,d,u,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let m=class{constructor(e,t,i,n,o){this.store=e,this.taskQueue=t,this.chromeService=i,this.appService=n,this.dialogService=o,this.appConnection="disconnected",this.selector={currentElementIndex:0,currentHistoryIndex:null,forcedStrategy:null,foundStrategy:"",history:[],numberOfFoundElements:0,selector:"",selectorName:null,selectorOptions:[],selectorState:null},this.busy=!1,this.inputHasFocus=!1,this.selectorEvaluated=!1,this.lastSearchSelector=null,this.lastForcedStrategy=null,this.isSelectorNew=!1,this.autoDetectValue=h.autoDetectValue}onKeyUp(e){return e.keyCode!==f.KeyCodes.Enter||this.busy?e.keyCode!==f.KeyCodes.ArrowDown||e.shiftKey?e.keyCode!==f.KeyCodes.ArrowUp||e.shiftKey||(e.preventDefault(),this.historyGoBack()):(e.preventDefault(),this.historyGoForward()):(this.selectorEvaluated=!0,this.saveCaretPosition(),this.checkAndUpdateLastSelectorState()?(this.saveHistoryItem(),this.inspectFirst()):e.shiftKey?this.inspectPrevious():this.inspectNext()),!0}onKeyDown(e){return e.shiftKey&&191===e.keyCode&&e.stopPropagation(),!0}get canSendPlaygroundSelectorToApp(){return this.selector&&this.selector.selector&&this.selector.selector.length&&!this.disableControls&&"rxpath"!==this.selector.forcedStrategy}get shouldShowSendButton(){return this.selector&&"rxpath"!==this.selector.forcedStrategy}get btnSendTooltip(){return"rxpath"===this.selector.foundStrategy&&this.selector.forcedStrategy===h.autoDetectValue||"rxpath"===this.selector.forcedStrategy?"RxPath is not yet supported":"Send selector to Ranorex Webtestit"}get foundElementsLabel(){return!this.selectorEvaluated||this.busy&&this.isSelectorNew?"-":(this.selector.numberOfFoundElements>0?this.selector.currentElementIndex+1+"/":"")+this.selector.numberOfFoundElements}submitButton(){return!this.selector.selector||!this.selector.selector.length||this.disableControls||this.busy?Promise.resolve():(this.checkAndUpdateLastSelectorState()&&this.saveHistoryItem(),this.selectorEvaluated=!0,this.inspectFirst())}saveHistoryItem(){this.selector&&this.selector.selector&&this.store.dispatch(c.saveHistoryItem,this.selector.selector)}historyGoBack(){this.currentHistoryItemIsModifiedInternal()?this.store.dispatch(c.goToLastHistoryItem):this.store.dispatch(c.goBackInHistory)}historyGoForward(){this.currentHistoryItemIsModifiedInternal()||this.store.dispatch(c.goForwardInHistory)}currentHistoryItemIsModified(e,t,i){return null!==t&&e!==i[t].value}getCountModifier(e,t,i,n,o){const a="evaluation-box__count--";if(!n||!t||i&&o||"number"!=typeof e)return a+"grey";if(0===e)return a+"red";if(1===e)return a+"green";if(1<e&&e<=9)return a+"yellow";if(e>9)return a+"red";throw new Error("defect: cases should have been exhaustive")}getSubmitActiveModifier(e,t,i){return i?"evaluation-box__btn-submit--busy":e&&e.length>0&&!t?"evaluation-box__btn-submit--active":""}cancelEdit(){this.store.dispatch(r.setCurrentElement,void 0)}inspectFirst(){return this.busyExecute(()=>this.store.dispatch(l.inspectFirstMatchingElement,this.chromeService))}inspectPrevious(){return this.checkAndUpdateLastSelectorState(),this.inspectPreviousInternal()}inspectNext(){return this.checkAndUpdateLastSelectorState(),this.inspectNextInternal()}copyValueToClipboard(){this.chromeService.copySelectorToClipboard(this.selector?this.selector.selector:"")}selectorChanged(e){if(e)switch(this.selectorValue=e.selector,e.selectorState){case"focusing":this.store.dispatch(d.focusing,window);break;case"focused":this.inputHasFocus=!0,this.restoreCaretPosition()}}selectorValueChanged(e){this.selector.selector=e,this.selectorEvaluated=!1}handleXButton(e){const t=!!this.selector.selector;return this.taskQueue.queueTask(()=>{""===this.selector.selector&&t&&(this.submitButton(),this.setForcedStrategy(h.autoDetectValue))}),!0}setForcedStrategy(e){this.selectorEvaluated=!1,this.store.dispatch(d.updatePlaygroundState,{forcedStrategy:e})}setNotificationSettings(e){this.notificationSettings=e}get isDarkTheme(){return this.chromeService.isDarkMode()}sendSelectorToApp(){return __awaiter(this,void 0,void 0,function*(){if(yield this.submitButton(),!this.selector)return void(yield s.showConfirmDialog(this.dialogService,{cancelable:!1,message:"Invalid selector"}));if("connected"!==this.appConnection)return void(yield s.showNotConnectedDialog(this.dialogService,this.isDarkTheme));if(!this.appCapabilities||!this.appCapabilities.poCreation)return void(yield s.showConfirmDialog(this.dialogService,{cancelable:!1,message:"Outdated Ranorex Webtestit version. Please update to the latest version."}));this.currentFile||(yield s.showConfirmDialog(this.dialogService,{cancelable:!1,message:"Page Object file is not selected"}));const e={elementFilePath:this.selector.elementFilePath,listView:{expanded:!1},matchingElements:this.selector.numberOfFoundElements,name:this.element?this.element.name:this.appService.getSelectorNameByLanguage(this.selector.selectorName||"New_element",this.projectTargetLanguage),selector:this.selector.selector,strategy:this.selector.foundStrategy||this.selector.forcedStrategy};if(e.matchingElements||e.strategy!==this.autoDetectValue){if(!e.matchingElements||e.matchingElements>1){const t=e.matchingElements>1?"more than one":"no";if((yield s.showConfirmDialog(this.dialogService,{message:`The selector you are trying to send has ${t} matching element.\n         Are you sure you want to send it anyway?`,options:[{value:"ok",label:"Send anyway"}]})).wasCancelled)return}try{yield this.appService.sendSelectorToApp(e,"inspected"),this.element&&this.store.dispatch(r.setCurrentElement,void 0),this.setNotificationSettings({description:`‘${e.name}’ has been ${this.element?"updated.":"added to the active Page Object file."}`,icon:"images/icons/success-icon.svg",title:"Selector sent successfully"})}catch(e){this.setNotificationSettings({description:e,icon:"images/icons/fail-icon.svg",title:"Sending selector failed"})}}else yield s.showConfirmDialog(this.dialogService,{cancelable:!1,message:"No elements are found. Select evaluation type (auto-detect not allowed)."})})}inspectPreviousInternal(){return this.busyExecute(()=>this.store.dispatch(l.inspectPreviousMatchingElement,this.chromeService))}inspectNextInternal(){return this.busyExecute(()=>this.store.dispatch(l.inspectNextMatchingElement,this.chromeService))}busyExecute(e){return __awaiter(this,void 0,void 0,function*(){if(!this.busy)try{this.busy=!0,yield e()}finally{this.busy=!1}})}checkAndUpdateLastSelectorState(){const e=this.selector?this.selector.selector:null,t=this.selector?this.selector.forcedStrategy:null;return this.lastSearchSelector!==e||this.lastForcedStrategy!==t?(this.isSelectorNew=!0,this.lastSearchSelector=e,this.lastForcedStrategy=t,!0):(this.isSelectorNew=!1,!1)}saveCaretPosition(){const e=this.evaluationBoxInput;e&&"number"==typeof e.selectionStart&&(this.caretPositionStart=e.selectionStart,this.caretPositionEnd=e.selectionEnd)}restoreCaretPosition(){const e=this.evaluationBoxInput;e&&"number"==typeof e.selectionStart&&(null!==this.caretPositionStart?(e.selectionStart=this.caretPositionStart,e.selectionEnd=this.caretPositionEnd,this.caretPositionStart=this.caretPositionEnd=null):e.selectionStart=e.selectionEnd=e.value.length)}currentHistoryItemIsModifiedInternal(){return this.selector&&this.currentHistoryItemIsModified(this.selector.selector,this.selector.currentHistoryIndex,this.selector.history)}};__decorate([a.bindable(),__metadata("design:type",String)],m.prototype,"appConnection",void 0),__decorate([a.bindable(),__metadata("design:type",Array)],m.prototype,"activeSelectors",void 0),__decorate([a.bindable(),__metadata("design:type",Boolean)],m.prototype,"disableControls",void 0),__decorate([a.bindable(),__metadata("design:type",Object)],m.prototype,"currentFile",void 0),__decorate([a.bindable(),__metadata("design:type",Object)],m.prototype,"appCapabilities",void 0),__decorate([a.bindable(),__metadata("design:type",Object)],m.prototype,"selector",void 0),__decorate([a.bindable(),__metadata("design:type",Object)],m.prototype,"element",void 0),__decorate([a.bindable(),__metadata("design:type",String)],m.prototype,"projectTargetLanguage",void 0),__decorate([n.observable(),__metadata("design:type",String)],m.prototype,"selectorValue",void 0),__decorate([n.computedFrom("selector","selector.selector","disableControls"),__metadata("design:type",Object),__metadata("design:paramtypes",[])],m.prototype,"canSendPlaygroundSelectorToApp",null),__decorate([n.computedFrom("selector.selector","disableControls"),__metadata("design:type",Object),__metadata("design:paramtypes",[])],m.prototype,"shouldShowSendButton",null),__decorate([n.computedFrom("selector"),__metadata("design:type",Object),__metadata("design:paramtypes",[])],m.prototype,"btnSendTooltip",null),__decorate([n.computedFrom("selector.selector","selector.currentElementIndex","selector.numberOfFoundElements","busy","isSelectorNew"),__metadata("design:type",String),__metadata("design:paramtypes",[])],m.prototype,"foundElementsLabel",null),m=__decorate([n.autoinject(),__metadata("design:paramtypes",[o.Store,n.TaskQueue,p.ChromeService,u.AppService,i.DialogService])],m),t.EvaluationBox=m});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("playground/playground-main",["require","exports","aurelia-templating"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{}__decorate([i.bindable(),__metadata("design:type",Object)],n.prototype,"data",void 0),__decorate([i.bindable(),__metadata("design:type",Boolean)],n.prototype,"disableControls",void 0),__decorate([i.bindable(),__metadata("design:type",Object)],n.prototype,"activeSelectors",void 0),__decorate([i.bindable(),__metadata("design:type",String)],n.prototype,"appConnection",void 0),__decorate([i.bindable(),__metadata("design:type",HTMLElement)],n.prototype,"element",void 0),__decorate([i.bindable(),__metadata("design:type",Boolean)],n.prototype,"isDebugMode",void 0),__decorate([i.bindable(),__metadata("design:type",Object)],n.prototype,"currentFile",void 0),__decorate([i.bindable(),__metadata("design:type",Object)],n.prototype,"appCapabilities",void 0),__decorate([i.bindable(),__metadata("design:type",String)],n.prototype,"projectTargetLanguage",void 0),t.PlaygroundMain=n});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("selector-generator/selector-list-item",["require","exports","aurelia-framework","aurelia-store","../data/actions/playground","../data/chrome-service"],function(e,t,i,n,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=class{constructor(e,t){this.store=e,this.chromeService=t,this.appConnection="disconnected"}countColorClass(e){const t="selector-item__score--";if("number"!=typeof e)return t+"grey";if(1===e)return t+"green";if(e>9||0===e)return t+"red";if(e>1&&e<=9)return t+"yellow";throw new Error("defect: cases should have been exhaustive")}copyToClipboard(){this.chromeService.copySelectorToClipboard(this.selector.selector)}preventClick(e){e.preventDefault(),e.stopPropagation()}copySelectorToEvaluationBox(){this.store.dispatch(o.setCopiedSelector,this.selector)}highlightElements(){this.chromeService.highlightElements(this.selector)}unhighlightElements(){this.chromeService.unhighlightElements()}sendToApp(){this.sendSelector({selector:this.selector})}get btnSendTooltip(){return"rxpath"===this.selector.strategy?"RxPath is not yet supported":"Send selector to Ranorex Webtestit"}};__decorate([i.bindable(),__metadata("design:type",String)],s.prototype,"appConnection",void 0),__decorate([i.bindable(),__metadata("design:type",Object)],s.prototype,"selector",void 0),__decorate([i.bindable(),__metadata("design:type",Function)],s.prototype,"sendSelector",void 0),__decorate([i.bindable(),__metadata("design:type",Object)],s.prototype,"element",void 0),__decorate([i.bindable(),__metadata("design:type",String)],s.prototype,"currentFile",void 0),__decorate([i.bindable(),__metadata("design:type",Object)],s.prototype,"appCapabilities",void 0),__decorate([i.computedFrom("selector"),__metadata("design:type",Object),__metadata("design:paramtypes",[])],s.prototype,"btnSendTooltip",null),s=__decorate([i.autoinject(),__metadata("design:paramtypes",[n.Store,a.ChromeService])],s),t.SelectorListItem=s});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("selector-generator/selector-list",["require","exports","aurelia-dialog","aurelia-framework","aurelia-store","../custom-elements/dialogs/dialogs","../data/actions/playground","../data/app-service","../data/chrome-service"],function(e,t,i,n,o,a,s,r,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let l=class{constructor(e,t,i,n){this.store=e,this.chromeService=t,this.appService=i,this.dialogService=n,this.showContextMenu=!1}setNotificationSettings(e){this.notificationSettings=e}openContextMenu(e,t){this.clickedSelector=t,this.showContextMenu=!0,e.clientX+this.rxContextMenu.clientWidth>window.document.body.offsetWidth?this.rxContextMenu.style.left=e.clientX-this.rxContextMenu.clientWidth+"px":this.rxContextMenu.style.left=e.clientX+"px",this.rxContextMenu.style.top=e.clientY+"px",this.mouseClickEvent=(e=>{const t=e.target;this.rxContextMenu&&(t===this.rxContextMenu||this.rxContextMenu.contains(t))||this.hideContextMenu()}),window.addEventListener("click",this.mouseClickEvent,!0)}copy(){this.hideContextMenu(),this.chromeService.copySelectorToClipboard(this.clickedSelector.selector)}modify(){this.hideContextMenu(),this.store.dispatch(s.setCopiedSelector,this.clickedSelector)}sendToApp(){return __awaiter(this,void 0,void 0,function*(){if("rxpath"===this.clickedSelector.strategy)return!1;this.hideContextMenu(),yield this.sendSelectorToApp(this.clickedSelector)})}get isDarkTheme(){return this.chromeService.isDarkMode()}sendSelectorToApp(e){return __awaiter(this,void 0,void 0,function*(){if("connected"===this.appConnection)if(this.appCapabilities&&this.appCapabilities.poCreation)if(this.currentFile)try{e.elementFilePath=this.element?this.element.path:void 0,e.name=this.element?this.element.name:this.appService.getSelectorNameByLanguage(e.name||"NewElement",this.projectTargetLanguage),yield this.appService.sendSelectorToApp(e,"inspected"),this.setNotificationSettings({description:`‘${e.name}’ has been ${this.element?"updated.":"added to the active Page Object file."}`,icon:"images/icons/success-icon.svg",title:"Selector sent successfully"})}catch(e){this.setNotificationSettings({description:e,icon:"images/icons/fail-icon.svg",title:"Sending selector failed"})}else yield a.showConfirmDialog(this.dialogService,{cancelable:!1,message:"Page Object file is not selected"});else yield a.showConfirmDialog(this.dialogService,{cancelable:!1,message:"Outdated Ranorex Webtestit version. Please update to the latest version."});else yield a.showNotConnectedDialog(this.dialogService,this.isDarkTheme)})}inspectParentIframe(){return this.chromeService.inspectParentIframeOfInspected().catch(()=>a.showIframeNotFoundDialog(this.dialogService))}get btnSendTooltip(){return"rxpath"===this.clickedSelector.strategy?"RxPath is not yet supported":""}hideContextMenu(){this.showContextMenu=!1,this.mouseClickEvent&&window.removeEventListener("click",this.mouseClickEvent,!0)}};__decorate([n.bindable(),__metadata("design:type",Array)],l.prototype,"activeSelectors",void 0),__decorate([n.bindable(),__metadata("design:type",Object)],l.prototype,"inspected",void 0),__decorate([n.bindable(),__metadata("design:type",String)],l.prototype,"appConnection",void 0),__decorate([n.bindable(),__metadata("design:type",Function)],l.prototype,"toggleSelectorState",void 0),__decorate([n.bindable(),__metadata("design:type",Boolean)],l.prototype,"hideSelectorList",void 0),__decorate([n.bindable(),__metadata("design:type",Object)],l.prototype,"element",void 0),__decorate([n.bindable(),__metadata("design:type",String)],l.prototype,"currentFile",void 0),__decorate([n.bindable(),__metadata("design:type",Object)],l.prototype,"appCapabilities",void 0),__decorate([n.bindable(),__metadata("design:type",String)],l.prototype,"projectTargetLanguage",void 0),__decorate([n.computedFrom("clickedSelector","appConnection","currentFile","appCapabilities"),__metadata("design:type",Object),__metadata("design:paramtypes",[])],l.prototype,"btnSendTooltip",null),l=__decorate([n.autoinject(),__metadata("design:paramtypes",[o.Store,c.ChromeService,r.AppService,i.DialogService])],l),t.SelectorList=l});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("status-bar/status-bar",["require","exports","aurelia-framework","../data/app-service"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=class{constructor(e){this.appService=e,this.showReconnect=!1,this.showReconnect=!0}connectOrDisconnectToApp(e){return __awaiter(this,void 0,void 0,function*(){"disconnected"!==e?this.appService.disconnectFromApp():this.appService.reconnectToApp()})}};__decorate([i.bindable(),__metadata("design:type",String)],o.prototype,"appConnection",void 0),o=__decorate([i.autoinject(),__metadata("design:paramtypes",[n.AppService])],o),t.StatusBar=o}),define("ui-tools/key-codes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ArrowUp=38]="ArrowUp",e[e.ArrowDown=40]="ArrowDown",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Tab=9]="Tab"}(t.KeyCodes||(t.KeyCodes={}))}),define("ui-tools/sort-value-converter",["require","exports","../data/store-utils"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SortValueConverter=class{toView(e,t){const n=i.assign({direction:"asc",numeric:!0,property:"value"},t||{});if("asc"!==n.direction&&"desc"!==n.direction)throw new Error(`'${n.direction}' is not possible order direction`);return e.sort((e,t)=>{const i="asc"!==n.direction.toLowerCase()?t:e,o="asc"!==n.direction.toLowerCase()?e:t;if(!i[n.property]&&0!==i[n.property]||!o[n.property]&&0!==o[n.property])throw new Error(`Missing property '${n.property}'`);return n.numeric?i[n.property]-o[n.property]:i[n.property]>o[n.property]?1:0})}}}),define("util/environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isElectron=function(){return"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0},t.isRanorexUiTest=function(){return"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Extension.UiTest")>=0}}),define("util/math",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=function(e,t,i){return e<t?t:e>i?i:e}});__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("util/retry",["require","exports"],function(e,t){"use strict";function i(e){return new Promise(t=>setTimeout(t,e))}Object.defineProperty(t,"__esModule",{value:!0}),t.waitFor=i,t.retry=function(e,t,n){return __awaiter(this,void 0,void 0,function*(){if(e<0)throw new Error("retryCount must not be negative");if(t<0)throw new Error("waitTime must be positive");let o=new Error;do{try{return yield n()}catch(e){o=e}e&&(yield i(t))}while(e--);throw o})}});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("custom-elements/configuration-panel/configuration-panel",["require","exports","aurelia-framework"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=class{constructor(){this.showConfigurationBody=!1}toggleConfigurationBody(){this.showConfigurationBody=!this.showConfigurationBody}};__decorate([i.bindable(),__metadata("design:type",Boolean)],n.prototype,"isDebugMode",void 0),n=__decorate([i.autoinject()],n),t.ConfigurationPanel=n});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("custom-elements/dialogs/area-screenshot",["require","exports","aurelia-dialog","aurelia-framework"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=class{constructor(e){this.controller=e,this.screenshotImage="images/browser-example.svg",this.keydownListener=(e=>{27===e.keyCode&&this.toggleAreaSelection(!0)})}attached(){const e=document.querySelector("ux-dialog-overlay");e&&e.classList.add("area-screenshot-dialog");const t=document.querySelector("ux-dialog-container");t&&t.classList.add("area-screenshot-dialog__container"),window.addEventListener("keydown",this.keydownListener,!1),this.getScreenshot()}activate(e){this.settings=e}detached(){window.removeEventListener("keydown",this.keydownListener,!1),this.toggleAreaSelection(!0)}canDeactivate(e){return e.wasCancelled||this.isScreenshotPlaceholder||(e.output=this.screenshotImage),!0}get isScreenshotPlaceholder(){return"images/browser-example.svg"===this.screenshotImage}toggleAreaSelection(e){return __awaiter(this,void 0,void 0,function*(){const t=window.chrome.devtools.inspectedWindow.tabId;return new Promise(i=>{chrome.tabs.executeScript(t,{code:`window.rxse = { areaSelectionCancel: ${e}};`},()=>{chrome.tabs.executeScript(t,{file:"scripts/area-selection/area-selection.js"},i)})})})}injectCss(){return __awaiter(this,void 0,void 0,function*(){const e=window.chrome.devtools.inspectedWindow.tabId;return new Promise(t=>{chrome.tabs.insertCSS(e,{file:"scripts/area-selection/area-selection.css"},t)})})}getScreenshot(){return new Promise(e=>__awaiter(this,void 0,void 0,function*(){yield this.injectCss(),yield this.toggleAreaSelection(),chrome.runtime.onMessage.addListener((t,i)=>__awaiter(this,void 0,void 0,function*(){"captured"===t.method&&(this.screenshotImage=yield this.capture(t,i),this.toggleAreaSelection(),e())}))}))}capture(e,t){return new Promise((i,n)=>{chrome.tabs.captureVisibleTab(t.tab.windowId,{format:"png"},t=>{const o=e.left*e.devicePixelRatio,a=e.top*e.devicePixelRatio,s=e.width*e.devicePixelRatio,r=e.height*e.devicePixelRatio,c=document.createElement("canvas"),l=c.getContext("2d"),d=new Image;d.onload=(()=>{c.width=s||d.width,c.height=r||d.height,s&&r?l.drawImage(d,o,a,s,r,0,0,s,r):l.drawImage(d,0,0),i(c.toDataURL())}),d.onerror=(e=>n(e)),d.src=t})})}};__decorate([n.computedFrom("screenshotImage"),__metadata("design:type",Object),__metadata("design:paramtypes",[])],o.prototype,"isScreenshotPlaceholder",null),o=__decorate([n.autoinject(),__metadata("design:paramtypes",[i.DialogController])],o),t.AreaScreenshotDialog=o});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("custom-elements/dialogs/confirm",["require","exports","aurelia-dialog","aurelia-framework"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=class{constructor(e){this.controller=e}attached(){const e=document.querySelector("ux-dialog-overlay");e&&e.classList.add("confirm-dialog")}activate(e){this.settings=e}};o=__decorate([n.autoinject(),__metadata("design:paramtypes",[i.DialogController])],o),t.ConfirmDialog=o}),define("custom-elements/dialogs/dialogs",["require","exports","../../data/store-utils","./area-screenshot","./confirm","./form"],function(e,t,i,n,o,a){"use strict";function s(e,t){return new Promise(n=>{const a=i.assign({cancelable:!0,message:"",options:[{value:"ok",label:"Ok"}],title:"Warning"},t);e.open({model:a,viewModel:o.ConfirmDialog,keyboard:["Enter"]}).whenClosed(e=>{n(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.showConfirmDialog=s,t.showNotConnectedDialog=function(e,t){return s(e,{cancelable:!1,message:`\n      You need to have Ranorex Webtestit installed to send web elements directly into your Page Object.<br/>\n      <br/>\n      <ol class="dialog__ol">\n        <li><a class="dialog__link" target="_blank"\n        href="https://www.ranorex.com/webtestit/?utm_source=selocity&utm_medium=display&utm_campaign=selocity-not-connected__webtestit">Download</a> Ranorex Webtestit</li>\n        <li>Install and open Ranorex Webtestit</li>\n        <li>Click the 'Connect' button in Ranorex Selocity</li>\n      </ol>\n      <br/>\n      <img class="dialog__gif" src="images/connect-selocity-${t?"dark":"light"}.gif">`,title:"Not connected to Ranorex Webtestit"})},t.showIframeNotFoundDialog=function(e){return s(e,{cancelable:!1,message:'\n      Unfortunately we couldn\'t navigate to the parent iframe automatically. It could be that the same iframe occurs multiple times on this page.<br/>\n      <br/>\n      You can still navigate to it manually:<br/>\n      <br/>\n      <img class="dialog__gif" src="images/find-parent-iframe-manually.gif"><br/>\n      <br/>\n      <a href="https://discourse.webtestit.com/t/known-issues-with-iframes-in-ranorex-selocity/1647"\n      class="selector-list__link"\n      target="_blank">Learn more about known issues with iframes</a>',title:"Parent iframe couldn’t be detected"})},t.showFormDialog=function(e,t){return new Promise(n=>{const o=i.assign({cancelable:!0,inputs:[],message:"",title:"Form"},t);e.open({model:o,viewModel:a.FormDialog,keyboard:["Enter"]}).whenClosed(e=>{n(e)})})},t.showAreaScreenshotDialog=function(e,t){return new Promise(i=>{e.open({model:t,viewModel:n.AreaScreenshotDialog,keyboard:["Enter"]}).whenClosed(e=>{i(e)})})}});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("custom-elements/dialogs/form",["require","exports","aurelia-dialog","aurelia-framework"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=class{constructor(e){this.controller=e,this.settingsInputElements=[]}attached(){const e=document.querySelector("ux-dialog-overlay");e&&e.classList.add("form-dialog"),this.settingsInputElements[0]&&this.settingsInputElements[0].focus()}activate(e){this.settings=e}get canSave(){return this.settings.inputs.some(e=>!e.required||!!e.value)&&this.validationPassed()}canDeactivate(e){return!(!this.canSave&&!e.wasCancelled)&&(e.output={value:this.settings.inputs},!0)}validationPassed(){return!this.settings.inputs.find(e=>!e.validator||!e.validator(e.value))}};o=__decorate([n.autoinject(),__metadata("design:paramtypes",[i.DialogController])],o),t.FormDialog=o});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("custom-elements/dropdown-box/dropdown-box",["require","exports","aurelia-framework"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=class{constructor(){}selectedValueChanged(e){this.updated&&this.updated({newValue:e})}};__decorate([i.bindable(),__metadata("design:type",Boolean)],n.prototype,"disabled",void 0),__decorate([i.bindable(),__metadata("design:type",Array)],n.prototype,"options",void 0),__decorate([i.bindable(),__metadata("design:type",String)],n.prototype,"selectedValue",void 0),__decorate([i.bindable(),__metadata("design:type",Function)],n.prototype,"updated",void 0),n=__decorate([i.autoinject(),__metadata("design:paramtypes",[])],n),t.DropdownBox=n});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("custom-elements/editable-text-field/editable-text-field",["require","exports","aurelia-framework","rxjs","rxjs/operators"],function(e,t,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=class{constructor(e){this.taskQueue=e,this.inEdit=!1}bind(){this.originalValue=this.value}enterEditMode(e){e.stopPropagation(),this.originalValue=this.value,this.inEdit=!0,this.taskQueue.queueTask(()=>{this.editField.focus(),this.editField.select()})}attached(){this.streamSubscription=n.merge(n.fromEvent(this.editField,"keydown"),n.fromEvent(this.editField,"blur")).pipe(o.startWith(null),o.pairwise()).subscribe(e=>{const t=[9,13],i=[27];if(e[1]instanceof KeyboardEvent){const n=e[1];-1!==t.indexOf(n.keyCode)?this.acceptChange():-1!==i.indexOf(n.keyCode)&&(n.stopPropagation(),this.discardChange())}else if(e[1]instanceof FocusEvent){const n=e[0];(null===n||n instanceof FocusEvent||n instanceof KeyboardEvent&&-1===t.indexOf(n.keyCode)&&-1===i.indexOf(n.keyCode))&&this.acceptChange()}})}detached(){this.streamSubscription.unsubscribe()}acceptChange(){this.inEdit=!1,this.accept&&this.accept({newValue:this.value})}discardChange(){this.inEdit=!1,this.value=this.originalValue,this.discard&&this.discard()}};__decorate([i.bindable(),__metadata("design:type",Function)],a.prototype,"accept",void 0),__decorate([i.bindable(),__metadata("design:type",Function)],a.prototype,"discard",void 0),__decorate([i.bindable(),__metadata("design:type",Object)],a.prototype,"value",void 0),a=__decorate([i.autoinject(),__metadata("design:paramtypes",[i.TaskQueue])],a),t.EditableTextField=a});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("custom-elements/labeled-checkbox/labeled-checkbox",["require","exports","aurelia-framework"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=class{constructor(e=!1){this.checked=e}checkedChanged(e){this.updated&&this.updated({newValue:e})}};__decorate([i.bindable(),__metadata("design:type",Boolean)],n.prototype,"checked",void 0),__decorate([i.bindable(),__metadata("design:type",Function)],n.prototype,"updated",void 0),n=__decorate([i.autoinject(),__metadata("design:paramtypes",[Object])],n),t.LabeledCheckbox=n});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("custom-elements/notification-box/notification-box",["require","exports","aurelia-framework"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=class{constructor(){this.show=!1}settingsChanged(e){this.show=!0,setTimeout(()=>{this.show=!1},e.duration?e.duration:3500)}};__decorate([i.bindable(),__metadata("design:type",Object)],n.prototype,"settings",void 0),n=__decorate([i.autoinject(),__metadata("design:paramtypes",[])],n),t.NotificationBox=n});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("custom-elements/page-object-panel/page-object-panel",["require","exports","aurelia-dialog","aurelia-framework","shared/languages","../dialogs/dialogs","./../../data/app-service"],function(e,t,i,n,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=class{constructor(e,t){this.appService=e,this.dialogService=t,this.input={name:"poName",placeholder:"Enter Page Object name",required:!0,type:"search"},this.isInEditMode=!1}attached(){this.isInEditMode=!1,this.panelIconSrc=this.isDarkTheme?"images/icons/dark/page-object.svg":"images/icons/page-object.svg",this.input.icon=this.panelIconSrc}getScreenshot(e=!1){return __awaiter(this,void 0,void 0,function*(){return yield a.showAreaScreenshotDialog(this.dialogService,{isEditMode:e})})}startPOCreation(){return __awaiter(this,void 0,void 0,function*(){this.input.value="";const e=yield this.getScreenshot();e.wasCancelled||(yield this.askForPOName(e.output))})}askForPOName(e){return __awaiter(this,void 0,void 0,function*(){const t=o.languages[this.projectTargetLanguage||"java"];this.input.validator=(e=>t.isFileNameValid(e)),this.input.validationFailedText=`Name must be a valid ${this.projectTargetLanguage?t.label:""} class name.`;const i=yield a.showFormDialog(this.dialogService,{confirmLabel:"Send",inputs:[this.input],message:"A new Page Object file will be created in your Ranorex Webtestit project.\n                You will then be able to send selectors to it.",title:"New Page Object file"});if(this.input.value&&!i.wasCancelled)try{yield this.appService.createPageObject(this.input.value,e),this.setNotificationSettings({description:`'${this.input.value}' has been created successfully`,icon:"images/icons/success-icon.svg",title:"Page Object created successfully"})}catch(t){this.setNotificationSettings({description:t,icon:"images/icons/fail-icon.svg",title:"Page Object creation failed"}),yield this.askForPOName(e)}})}editScreensot(){return __awaiter(this,void 0,void 0,function*(){if(this.isInEditMode)return void(this.isInEditMode=!1);this.isInEditMode=!0;const e=yield this.getScreenshot(this.isInEditMode);if(!e.wasCancelled&&e.output)try{yield this.appService.editPageObjectScreenshot(this.currentFile,e.output),this.setNotificationSettings({description:`'${this.currentFile.fileName}' screenshot has been updated successfully`,icon:"images/icons/success-icon.svg",title:"Page Object screenshot updated"})}catch(e){this.setNotificationSettings({description:e,icon:"images/icons/fail-icon.svg",title:"Page Object creation failed"})}finally{this.isInEditMode=!1}else this.isInEditMode=!1})}setNotificationSettings(e){this.notificationSettings=e}currentFileChanged(){this.isInEditMode=!1}};__decorate([n.bindable(),__metadata("design:type",Object)],r.prototype,"currentFile",void 0),__decorate([n.bindable(),__metadata("design:type",String)],r.prototype,"projectTargetLanguage",void 0),__decorate([n.bindable(),__metadata("design:type",Boolean)],r.prototype,"isDarkTheme",void 0),r=__decorate([n.autoinject(),__metadata("design:paramtypes",[s.AppService,i.DialogService])],r),t.PageObjectPanel=r});__decorate=this&&this.__decorate||function(e,t,i,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(s=(a<3?o(s):a>3?o(t,i,s):o(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("custom-elements/tree-outline/tree-outline-item",["require","exports","aurelia-framework"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=class{};__decorate([i.bindable(),__metadata("design:type",String)],n.prototype,"modifiers",void 0),__decorate([i.bindable(),__metadata("design:type",Number)],n.prototype,"index",void 0),__decorate([i.bindable(),__metadata("design:type",Function)],n.prototype,"handleClick",void 0),n=__decorate([i.containerless()],n),t.TreeOutlineItem=n}),define("custom-elements/tree-outline/tree-outline",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TreeOutline=class{}});__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("data/actions/app-state",["require","exports","../store-utils","./playground"],function(e,t,i,n){"use strict";function o(e,t){return i.shallowClone(e,{contentScriptAvailable:t})}function a(e,t,n){return __awaiter(this,void 0,void 0,function*(){yield n.sendMessageToBackground("connection-state-changed",t);const o={appCapabilities:"connected"===t?e.appCapabilities:void 0,appConnection:t};return"connected"!==t&&(o.currentFile=void 0),i.shallowClone(e,o)})}function s(e,t){return __awaiter(this,void 0,void 0,function*(){return i.shallowClone(e,{appCapabilities:t})})}function r(e,n){return __awaiter(this,void 0,void 0,function*(){const o=i.shallowClone(e.mainConfig,{bannerDismissed:t.CURRENT_BANNER_ID});return yield n.persist("mainConfig",o),i.shallowClone(e,{mainConfig:o})})}function c(e,t,n){return __awaiter(this,void 0,void 0,function*(){!1===t.enableHighlighting&&n.unhighlightElements(!0);const o=i.shallowClone(e.mainConfig,t);yield n.persist("mainConfig",o);let a=[];return(yield n.isPageSupported())&&(a=yield n.buildSelectors()),i.shallowClone(e,{activeSelectors:a,mainConfig:o})})}function l(e,t){return __awaiter(this,void 0,void 0,function*(){return i.shallowClone(e,t)})}function d(e,t){return __awaiter(this,void 0,void 0,function*(){return i.shallowClone(e,{currentElement:t,playground:t?i.shallowClone(e.playground,{elementFilePath:t.path,forcedStrategy:t.strategy,selector:t.selectors}):i.shallowClone(e.playground,{elementFilePath:void 0,forcedStrategy:null,selector:""})})})}function u(e,t,i){return __awaiter(this,void 0,void 0,function*(){const o=yield d(e,i);return yield n.inspectFirstMatchingElement(o,t)})}function p(e,t){return __awaiter(this,void 0,void 0,function*(){return i.shallowClone(e,{currentFile:t})})}function h(e,t){return __awaiter(this,void 0,void 0,function*(){return i.shallowClone(e,{projectTargetLanguage:t})})}Object.defineProperty(t,"__esModule",{value:!0}),t.CURRENT_BANNER_ID=void 0,t.setContentScriptAvailable=o,t.setAppConnectionState=a,t.setAppConnectionCapabilities=s,t.dismissBanner=r,t.updateMainConfig=c,t.setState=l,t.setCurrentElement=d,t.setReceivedElement=u,t.setCurrentFile=p,t.setProjectTargetLanguage=h,i.registerToStore(o,a,s,r,c,l,d,u,p,h)}),define("data/actions/history",["require","exports","../../util/math","../store-utils"],function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=1e4;function a(e,t){const i=[...e.playground.history];i.push({value:t}),i.length>o&&i.shift();const{currentHistoryIndex:a,selector:s}=l(i,i.length-1);return n.shallowClone(e,{playground:n.shallowClone(e.playground,{currentHistoryIndex:a,history:i,selector:s})})}function s(e){const t=e.playground;if(null===t.currentHistoryIndex)return e;const i=l(t.history,t.history.length-1);return n.shallowClone(e,{playground:n.shallowClone(t,i)})}function r(e){const t=e.playground,i=0!==t.history.length?l(t.history,(t.currentHistoryIndex||0)+1):{currentHistoryIndex:null};return n.shallowClone(e,{playground:n.shallowClone(t,i)})}function c(e){const t=e.playground,i=0!==t.history.length?l(t.history,(t.currentHistoryIndex||0)-1):{currentHistoryIndex:null};return n.shallowClone(e,{playground:n.shallowClone(t,i)})}function l(e,t){const n=i.clamp(t,0,e.length-1);return{currentHistoryIndex:n,selector:e[n].value}}t.saveHistoryItem=a,t.goToLastHistoryItem=s,t.goForwardInHistory=r,t.goBackInHistory=c,n.registerToStore(a,r,c,s)});__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,r)}c((n=n.apply(e,t||[])).next())})};define("data/actions/playground",["require","exports","../../util/retry","../state-models","../store-utils"],function(e,t,i,n,o){"use strict";function a(e,t){return c(e,{selectorOptions:t})}function s(e,t){return c(e,{forcedStrategy:e.playground.forcedStrategy!==n.autoDetectValue?t.strategy:e.playground.forcedStrategy,selector:t.selector,selectorState:"focused"})}function r(e,t){return c(e,{selector:t.selector,selectorState:"inspected"})}function c(e,t){return o.shallowClone(e,{playground:o.shallowClone(e.playground,t)})}function l(e,t){return __awaiter(this,void 0,void 0,function*(){return t.focus(),yield i.waitFor(10),o.shallowClone(e,{playground:o.shallowClone(e.playground,{selectorState:"focused"})})})}function d(e,t){return __awaiter(this,void 0,void 0,function*(){const{selector:i,forcedStrategy:n}=e.playground;return yield h(e,i,n||null,0,t)})}function u(e,t){return __awaiter(this,void 0,void 0,function*(){const{selector:i,forcedStrategy:n,currentElementIndex:o}=e.playground;return yield h(e,i,n||null,(o||0)+1,t)})}function p(e,t){return __awaiter(this,void 0,void 0,function*(){const{selector:i,forcedStrategy:n,currentElementIndex:o}=e.playground;return yield h(e,i,n||null,(o||0)-1,t)})}function h(e,t,i,a,s){return __awaiter(this,void 0,void 0,function*(){const r=yield s.autoEvaluateSelector(t,i===n.autoDetectValue?void 0:i||void 0,a),c=[...e.playground.selectorOptions],l=c.findIndex(e=>e.value===n.autoDetectValue),d=i===n.autoDetectValue&&r&&r.selectorName;return-1!==l&&(d?c.splice(l,1,o.shallowClone(c[l],{label:`${r.selectorName} (detected)`})):c.splice(l,1,o.shallowClone(c[l],{label:n.defaultAutoDetectLabel}))),o.shallowClone(e,{playground:o.shallowClone(e.playground,{currentElementIndex:r.inspectIndex,forcedStrategy:i,foundStrategy:d?r.selectorName:null,numberOfFoundElements:r.length,selector:t,selectorName:r.name,selectorOptions:c,selectorState:"focusing"})})})}Object.defineProperty(t,"__esModule",{value:!0}),t.updateSelectorOptions=a,t.setCopiedSelector=s,t.inspectBySelector=r,t.updatePlaygroundState=c,t.focusing=l,t.inspectFirstMatchingElement=d,t.inspectNextMatchingElement=u,t.inspectPreviousMatchingElement=p,o.registerToStore(a,s,r,c,l,d,u,p)}),define("data/actions/selectors",["require","exports","../store-utils"],function(e,t,i){"use strict";function n(e,t){const n=[...e.activeSelectors],o=n.findIndex(e=>e===t);return-1===o?e:(n.splice(o,1,i.shallowClone(n[o],{listView:i.shallowClone(n[o].listView,{expanded:!n[o].listView.expanded})})),i.shallowClone(e,{activeSelectors:n}))}function o(e,t,n){const o=[...e.activeSelectors],a=o.findIndex(e=>e===t);return-1===a?e:(o.splice(a,1,i.shallowClone(o[a],{selector:n})),i.shallowClone(e,{activeSelectors:o}))}function a(e,t,n){return i.shallowClone(e,{activeSelectors:t,inspectedState:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleSelectorState=n,t.updateSelector=o,t.setInspectedState=a,i.registerToStore(n,o,a)}),define("../../shared/connectivity-capabilities",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkExtensionCapabilities=function(e,...t){return e.some(e=>t.every(t=>!!e[t]))}}),define("shared/guid",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}),define("shared/index",["require","exports","./guid","./languages"],function(e,t,i,n){"use strict";function o(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),o(i),o(n)}),define("../../shared/json-object",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){return e&&e instanceof Object&&!(e instanceof Array)}}),define("shared/languages",["require","exports","./tuple"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.languageIds=i.tuple("java","ts","python");i.tuple("csharp","js",...t.languageIds);t.isLanguageId=function(e){return t.languageIds.includes(e)};const n={csharp:{alwaysExclude:[".git"],commentPrefix:"// ",defaultMethodName:"performNewAction",defaultReturnTypes:[{name:"void"},{name:"boolean",default:"false"},{name:"int",default:"0"},{name:"float",default:"0"},{name:"string",default:'""'}],escapeSymbol:'""',excludePatterns:[],fileEndings:["cs"],frameworks:["Selenium"],includePatterns:["**/*",".editorconfig"],isFileNameValid:()=>!0,label:"C#",thisReturnValue:"this",voidReturnType:"void"},java:{alwaysExclude:[".git"],commentPrefix:"// ",defaultMethodName:"performNewAction",defaultReturnTypes:[{name:"void"},{name:"boolean",default:"false"},{name:"int",default:"0"},{name:"double",default:"0"},{name:"String",default:'""'}],escapeSymbol:'"',excludePatterns:["src/main","target","screenshots",".webtestit"],fileEndings:["java","class"],frameworks:["Selenium"],includePatterns:["**/*",".editorconfig","!src/test/resources/*.capabilities","!src/test/resources/*.properties","!.settings","!**/sauce.config.json","!**/WEBTESTIT_README.txt"],isFileNameValid:a,label:"Java",thisReturnValue:"this",voidReturnType:"void"},js:{alwaysExclude:["node_modules",".git"],commentPrefix:"// ",defaultMethodName:"performNewAction",defaultReturnTypes:[{name:"void"},{name:"Boolean",default:"false"},{name:"Number",default:"0"},{name:"String",default:"''"}],escapeSymbol:'"',excludePatterns:["node_modules","screenshots"],fileEndings:["js","mjs"],frameworks:["WebdriverIO"],includePatterns:["**/*",".editorconfig"],isFileNameValid:r,label:"JavaScript",thisReturnValue:"this",voidReturnType:"void"},python:{alwaysExclude:["**/__pycache__","lib","Lib",".git"],commentPrefix:"# ",defaultMethodName:"perform_new_action",defaultReturnTypes:[],escapeSymbol:'"',excludePatterns:["screenshots","bin","scripts","Scripts","include","Include","lib","Lib","share","pyvenv.cfg"],fileEndings:["py"],frameworks:["unittest"],includePatterns:["**/*",".editorconfig","!temp-reports","!**/WEBTESTIT_README.txt"],isFileNameValid:l,label:"Python",thisReturnValue:"self",voidReturnType:"None"},ts:{alwaysExclude:["node_modules",".git"],commentPrefix:"// ",defaultMethodName:"performNewAction",defaultReturnTypes:[{name:"void"},{name:"boolean",default:"false"},{name:"number",default:"0"},{name:"string",default:'""'}],escapeSymbol:'"',excludePatterns:["node_modules","dist","screenshots",".webtestit"],fileEndings:["ts","js","mjs"],frameworks:["Protractor"],includePatterns:["**/*",".editorconfig","!temp-reports","!package-lock.json","!**/sauce.config.json","!**/WEBTESTIT_README.txt"],isFileNameValid:r,label:"TypeScript",thisReturnValue:"this",voidReturnType:"void"}};t.languages={java:n.java,python:n.python,ts:n.ts};const o={};function a(e){return!(Object.values(["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","do","double","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while","_"]).indexOf(e)>-1||!1===/^[a-zA-Z][a-zA-Z_$0-9]*(\.[a-zA-Z][a-zA-Z_$0-9]*)*$/.test(e))}Object.entries(t.languages).forEach(([e,t])=>{t.fileEndings.forEach(t=>{o[t]=e})}),t.getLanguageFromFilename=function(e){const t=e.lastIndexOf("."),i=-1===t?e:e.slice(t+1);return o[i]},t.isJavaFileNameValid=a;const s=/^[a-zA-Z_][a-zA-Z_$0-9-]*(\.[a-zA-Z][a-zA-Z_$0-9-]*)*$/;function r(e){return!(Object.values(["break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","undefined","as","implements","interface","let","package","private","protected","public","static","yield","any","boolean","constructor","declare","get","module","require","number","set","string","symbol","type","from","of","namespace","await","abstract","byte","char","double","final","float","goto","int","long","native","short","synchronized","throws","transient","volatile"]).indexOf(e)>-1||!(e=>!("string"!=typeof e||e.trim()!==e||!s.test(e)))(e))}t.isTypeScriptJavaScriptFileNameValid=r;const c=/^[a-zA-Z_][a-zA-Z_$0-9-]*(\.[a-zA-Z][a-zA-Z_$0-9-]*)*$/;function l(e){return!(Object.values(["and","as","assert","break","class","continue","def","del","elif","else","except","exec","finally","for","from","global","if","import","in","is","lambda","not","or","pass","print","raise","return","try","while","with","yield"]).indexOf(e)>-1||!(e=>!("string"!=typeof e||e.trim()!==e||!c.test(e)))(e))}t.isPythonFileNameValid=l}),define("../../shared/socket-models",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("shared/tuple",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tuple=function(...e){return e}}),define("../../shared/types",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("text!app.html",["module"],function(e){e.exports='<template><require from="./selector-generator/selector-list"></require><require from="./playground/playground-main"></require><require from="./status-bar/status-bar"></require><require from="./banner/banner"></require><div class="${isDarkTheme ? \'dark\' : \'\'} app"><selector-list app-connection.bind="state.appConnection" inspected.bind="state.inspectedState" toggle-selector-state.bind="toggleSelectorState" active-selectors.bind="state.activeSelectors" hide-selector-list.bind="!state.contentScriptAvailable" element.bind="state.currentElement" current-file.bind="state.currentFile" app-capabilities.bind="state.appCapabilities" project-target-language.bind="state.projectTargetLanguage"></selector-list><configuration-panel is-debug-mode.bind="state.isDebugMode"><labeled-checkbox checked.bind="state.mainConfig.copyWithQuotes" updated.call="updateMainConfig({copyWithQuotes:newValue})" title="If checked, copied selectors will be quoted and escaped.">Escape and quote copied selectors</labeled-checkbox><labeled-checkbox checked.bind="state.mainConfig.enableHighlighting" updated.call="updateMainConfig({enableHighlighting:newValue})" title="If checked, matching elements will be highlighted in the DOM.">Element highlighting</labeled-checkbox><labeled-checkbox checked.bind="state.mainConfig.ignoreDynamicIds" updated.call="updateMainConfig({ignoreDynamicIds:newValue})" title="If checked, dynamically generated ID attributes will not be used.">Ignore dynamic ID attributes</labeled-checkbox><labeled-checkbox checked.bind="state.mainConfig.usePartialClassNameMatching" updated.call="updateMainConfig({usePartialClassNameMatching:newValue})" title="Include partial class-names (e.g. \'col-*\')">Allow partial class-names</labeled-checkbox><labeled-checkbox checked.bind="state.mainConfig.leftTrimPaths" updated.call="updateMainConfig({leftTrimPaths:newValue})" title="Remove any steps beginning from the left side, as long as the selector has a unique match.">Produce minimal target selectors</labeled-checkbox></configuration-panel><page-object-panel if.bind="state.appConnection === \'connected\' && state.appCapabilities.poCreation" current-file.bind="state.currentFile" project-target-language.bind="state.projectTargetLanguage" is-dark-theme.bind="isDarkTheme"></page-object-panel><playground-main data.bind="state.playground" disable-controls.bind="!state.contentScriptAvailable" active-selectors.bind="state.activeSelectors" app-connection.bind="state.appConnection" element.bind="state.currentElement" is-debug-mode.bind="state.isDebugMode" current-file.bind="state.currentFile" app-capabilities.bind="state.appCapabilities" project-target-language.bind="state.projectTargetLanguage"></playground-main><banner if.bind="!state.isDebugMode"></banner><status-bar app-connection.bind="state.appConnection"></status-bar></div></template>'}),define("text!banner/banner.html",["module"],function(e){e.exports='<template class="banner" ref="banner"><div class="banner__container" class.bind="bannerStateClass" if.bind="!isBannerDismissed"><p class="banner__logo-container"><a class="banner__logo" target="_blank" href="https://www.ranorex.com/webtestit/?utm_source=selocity&utm_medium=display&utm_campaign=selocity-banner_webtestit"><img src="${isDarkTheme ? \'/images/logo/webtestit-full-light.svg\' : \'/images/logo/webtestit-full.svg\'}" alt="Webtestit logo"> </a><span class="banner__commands"><a href="#" if.bind="!expanded || clickedExpand" class="banner__command-link banner__command-link--right-margin" click.delegate="toggleBanner()">${expanded ? "Collapse" : "Expand"}</a><span if.bind="!expanded || clickedExpand" class="banner__expand">|</span> <a href="#" class="banner__command-link" click.delegate="dismissBanner()">Dismiss</a></span></p><div class="banner__content"><div class="banner__content--left"><div class="banner__section"><div class="banner__title">Get to Know Ranorex Webtestit Webinar</div></div><div class="banner__section banner__description" if.bind="expanded"><p>See how this lightweight Selenium and Protractor IDE obliterates your configuration overhead, makes your tests "mucho" maintainable, and significantly reduces the effort to build robust and reliable UI tests for web applications.</p></div><div class="banner__links-holder"><div class="banner__section"><a target="_blank" class="banner__offer" href="https://www.ranorex.com/automated-testing-webinars/ranorex-webtestit-release/?utm_source=selocity&utm_medium=display&utm_campaign=webtestit-release-webinar">Reserve your seat </a><a target="_blank" class="banner__offer" href="https://www.ranorex.com/webtestit/?utm_source=selocity&utm_medium=display&utm_campaign=selocity-banner_webtestit">Download free trial</a></div></div></div><div class="banner__content banner__content--right"><img class="banner__content-image" src="/images/webtestit-release-webinar.svg"></div></div></div></template>'}),define("text!playground/element-edit.html",["module"],function(e){e.exports='<template class="element-edit"><div class="element-edit__container"><img class="element-edit__icon" src="../../images/icons/icon-element.svg"> <span class="element-edit__name">${element.name}</span><a href="#" class="element-edit__cancel" click.delegate="removeElement()"><div>Cancel</div></a></div></template>'}),define("text!playground/evaluation-box.html",["module"],function(e){e.exports='<template class="evaluation-box"><div class="evaluation-box__controls"><dropdown-box class="toolbar-item" disabled.bind="disableControls" options.bind="selector.selectorOptions" updated.call="setForcedStrategy(newValue)" selected-value.bind="selector.forcedStrategy" title="Specify which selector evaluator to use"></dropdown-box><div class="evaluation-box__control-divider"></div><span class="evaluation-box__history"><button disabled.bind="selector.currentHistoryIndex === null || disableControls || (!selector.currentHistoryIndex && !currentHistoryItemIsModified(selector.selector, selector.currentHistoryIndex, selector.history))" class="evaluation-box__btn-history-back" click.delegate="historyGoBack()" title="Go back"></button> <button disabled.bind="selector.currentHistoryIndex === null || disableControls || (selector.currentHistoryIndex === selector.history.length - 1) || currentHistoryItemIsModified(selector.selector, selector.currentHistoryIndex, selector.history)" class="evaluation-box__btn-history-forward" click.delegate="historyGoForward()" title="Go forward"></button></span><div class="evaluation-box__control-divider"></div><button class="evaluation-box__btn-copy" click.delegate="copyValueToClipboard()" disabled.bind="!selector.selector || selector.selector.length <= 0 || disableControls" title="Copy selector to clipboard"></button> <button class="evaluation-box__send-to-app" click.delegate="sendSelectorToApp()" disabled.bind="!canSendPlaygroundSelectorToApp" title="${(selector.foundStrategy === \'rxpath\' && selector.forcedStrategy === autoDetectValue) || selector.forcedStrategy === \'rxpath\' ? \'RxPath is not yet supported\' : \'Send selector to Ranorex Webtestit\'}"></button><div class="evaluation-box__control-divider"></div><span class="evaluation-box__count"><button disabled.bind="selector.numberOfFoundElements <= 1 || disableControls || busy" class="evaluation-box__btn-cycle-up ${busy ? \'evaluation-box__btn-cycle-up--busy\' : \'\'}" click.delegate="inspectNext()" title="Next element"></button> <span class="evaluation-box__current ${getCountModifier(selector.numberOfFoundElements, selector ? selector.selector : undefined, busy, selectorEvaluated, isSelectorNew)}" title="Number of elements found"> ${foundElementsLabel} </span><button disabled.bind="selector.numberOfFoundElements <= 1 || disableControls || busy" class="evaluation-box__btn-cycle-down ${busy ? \'evaluation-box__btn-cycle-down--busy\' : \'\'}" click.delegate="inspectPrevious()" title="Previous element"></button><div class="evaluation-box__control-label">Found:</div></span></div><div class="toolbar-input toolbar-item evaluation-box__input-wrapper"><input type="search" class="evaluation-box__input" disabled.bind="disableControls" keyup.trigger="onKeyUp($event)" keydown.trigger="onKeyDown($event)" value.bind="selectorValue" placeholder="Enter selector" focus.bind="inputHasFocus" ref="evaluationBoxInput" click.trigger="handleXButton($event)" spellcheck="false"><div class="evaluation-box__input-divider">&nbsp;</div><button class="evaluation-box__btn-submit ${getSubmitActiveModifier(selector.selector, disableControls, busy)}" disabled.bind="disableControls || busy" title="Test selector" click.trigger="submitButton()"></button></div><div class="evaluation-box__row" if.bind="shouldShowSendButton"><button if.bind="element" class="evaluation-box__btn-cancel" click.trigger="cancelEdit()">Cancel</button> <button class="evaluation-box__btn-send ${!canSendPlaygroundSelectorToApp ? \'evaluation-box__btn-send--disabled\' : \'\'} ${!currentFile && appCapabilities.poCreation ? \'evaluation-box__btn-send--greyed-out\' : \'\'}" click.delegate="sendSelectorToApp(selector)" disabled.bind="!canSendPlaygroundSelectorToApp" title.bind="btnSendTooltip"><img src="images/icons/send-to-app-light.svg" class="evaluation-box__btn-icon ${!canSendPlaygroundSelectorToApp ? \'evaluation-box__btn-icon--disabled\' : \'\'}"> ${element ? \'Update in Ranorex Webtestit\' : \'Send to Ranorex Webtestit\'} </button></div><notification-box settings.bind="notificationSettings"></notification-box></template>'}),define("text!playground/playground-main.html",["module"],function(e){e.exports='<template class="playground-main"><require from="./evaluation-box"></require><require from="./element-edit"></require><div class="playground-main__title">Modify and test selector</div><p hidden.bind="isDebugMode" class="playground-main__description">Enter your selector, modify it, and hit enter to test it.</p><p hidden.bind="!isDebugMode" class="playground-main__description">Modify it, test it and send the updated selector directly back to Ranorex Webtestit.</p><element-edit hidden.bind="!element" element.bind="element"></element-edit><evaluation-box class="playground-main__evaluation-box" selector.bind="data" disable-controls.bind="disableControls" active-selectors.bind="activeSelectors" app-connection.bind="appConnection" element.bind="element" current-file.bind="currentFile" app-capabilities.bind="appCapabilities" project-target-language.bind="projectTargetLanguage"></evaluation-box></template>'}),define("text!selector-generator/selector-list-item.html",["module"],function(e){e.exports='<template class="selector" mouseleave.trigger="unhighlightElements()" mouseenter.trigger="highlightElements()"><div class="selection fill"></div><div class="selector-list__selector-item selector-item" mouseleave.trigger="unhighlightElements()" mouseenter.trigger="highlightElements()"><span class="selector-item__selector monospace" title="${selector.selector}"> ${selector.selector} </span><span class="selector-item__type monospace">${selector.strategy}</span><span class="selector-item__score ${countColorClass(selector.matchingElements)} monospace" title="Total number of found elements">${selector.matchingElements || 0}</span><span class="selector-item__commands" click.delegate="preventClick($event)"><button class="selector-item__edit" title="Modify selector" click.delegate="copySelectorToEvaluationBox()"></button> <button class="selector-item__copy" title="Copy selector to clipboard" click.delegate="copyToClipboard()"></button> <button disabled.bind="selector.strategy === \'rxpath\'" class="selector-item__send-to-app" title.bind="btnSendTooltip" click.delegate="sendToApp()"></button></span></div><div class="selector-item__expandable-area monospace" if.bind="selector.listView.expanded"> ${selector.selector} </div></template>'}),define("text!selector-generator/selector-list.html",["module"],function(e){e.exports='<template class="selector-list"><require from="./selector-list-item"></require><require from="../ui-tools/sort-value-converter"></require><div class="selector-list__title">List of selectors</div><p class="selector-list__description">Suggested selectors for the element.</p><div if.bind="!hideSelectorList && activeSelectors && activeSelectors.length > 0" class="selector-list__detail ${inspected.inIframe ? \'selector-list__detail--iframe\' : \'\'}"><span if.bind="inspected.inIframe" class="selector-list__detail-iframetag monospace" title="Inspect parent iframe" click.trigger="inspectParentIframe()">&lt;iframe&gt;</span> <span if.bind="inspected.inIframe" class="selector-list__detail-arrow monospace">&#x2794;</span> <span class="selector-list__detail-tagname monospace">&lt;${inspected.tagName || \'element\'}&gt;</span> <span if.bind="inspected.inIframe" class="selector-list__detail-info" title="Shown selectors were built for an element located inside an iframe"></span> <span if.bind="inspected.inIframe" class="selector-list__detail-help"><a href="https://discourse.webtestit.com/t/how-to-automate-iframe-selections/1191" class="selector-list__link" target="_blank">How to work best with iframes</a></span></div><tree-outline if.bind="!hideSelectorList && activeSelectors && activeSelectors.length > 0"><tree-outline-item modifiers="${selector.listView.expanded ? \'expanded selector-item--details-open\' : \'\'}" handle-click.call="toggleSelectorState(selector)" repeat.for="selector of activeSelectors | sort: { property: \'matchingElements\', direction: \'asc\',  numeric: true }" index.bind="$index"><selector-list-item app-connection.bind="appConnection" selector.bind="selector" send-selector.call="sendSelectorToApp(selector)" contextmenu.trigger="openContextMenu($event, selector)" element.bind="element" current-file.bind="currentFile" app-capabilities.bind="appCapabilities"></selector-list-item></tree-outline-item></tree-outline><div class="selector-list__notice" if.bind="!hideSelectorList && (!activeSelectors || !activeSelectors.length)">No selectors found. Ranorex Selocity could not generate selectors for the inspected element. In some cases, it might help to try again.</div><div class="selector-list__notice" if.bind="hideSelectorList">The page you are viewing may still be loading, or Ranorex Selocity can not access it. Chrome internal pages are not supported.</div><div ref="rxContextMenu" class="rx-context-menu"><ul if.bind="showContextMenu"><li click.trigger="copy()"><span class="copy-icon"></span> <span class="context-menu-font">Copy selector</span></li><li click.trigger="modify()"><span class="edit-icon"></span> <span class="context-menu-font">Modify selector</span></li><li class="${clickedSelector.strategy === \'rxpath\' ? \'menuitem-disabled\' : \'\'}" click.trigger="sendToApp()"><span class="send-icon"></span> <span title.bind="btnSendTooltip" class="context-menu-font">Send selector to Ranorex Webtestit</span></li></ul></div><notification-box settings.bind="notificationSettings"></notification-box></template>'}),define("text!status-bar/status-bar.html",["module"],function(e){e.exports="<template class=\"status-bar\"><div class=\"status-bar__container\" if.bind=\"showReconnect\"><div class=\"status-bar__connection status-bar__connection--${appConnection === 'connecting' ? 'connecting' : appConnection === 'disconnected' ? 'disconnected' : 'connected'}\"><div class=\"status-bar__${appConnection === 'connecting' ? 'connecting' : appConnection === 'disconnected' ? 'disconnected' : 'connected'}\"></div><div class=\"status-bar__connection-text\"> ${appConnection === 'connecting' ? 'Connecting' : appConnection === 'disconnected' ? 'Disconnected from ' : 'Connected to'} <a target=\"_blank\" href=\"https://www.ranorex.com/webtestit/?utm_source=selocity&utm_medium=display&utm_campaign=selocity-banner_webtestit\">Ranorex Webtestit</a></div><div class=\"status-bar__connection-button\"><button click.trigger=\"connectOrDisconnectToApp(appConnection)\"> ${appConnection === 'disconnected' ? 'Connect' : appConnection === 'connecting' ? 'Cancel' : 'Disconnect'} </button></div></div></div></template>"}),define("text!custom-elements/configuration-panel/configuration-panel.html",["module"],function(e){e.exports='<template class="configuration-panel"><div class="configuration-panel__header ${isDebugMode ? \'configuration-panel__header-debug\' : \'\'}"><div class="configuration-panel__header-item-link-text"><a href="https://www.ranorex.com/selocity/browser-extension.html?utm_source=selocity-browser-extension&utm_medium=referral&utm_campaign=en_help#c17363" target="_blank"><div>Ranorex Selocity help</div></a></div><div class="configuration-panel__header-divider"></div><button class="configuration-panel__header-item-button ${ showConfigurationBody ? \'expanded\': \'\'}" click.delegate="toggleConfigurationBody()" title="Settings"></button></div><div class="configuration-panel__body" show.bind="showConfigurationBody"><slot></slot></div></template>'}),define("text!custom-elements/dropdown-box/dropdown-box.html",["module"],function(e){e.exports='<template><select class="dropdown-box" value.bind="selectedValue" disabled.bind="disabled"><option repeat.for="option of options" value.bind="option.value" label="${option.label}"></option></select></template>'}),define("text!custom-elements/editable-text-field/editable-text-field.html",["module"],function(e){e.exports='<template class="editable-text-field"><input show.bind="inEdit" ref="editField" class="editable-text-field__input" value.bind="value" tabindex="1"> <span show.bind="!inEdit" class="editable-text-field__label" click.delegate="enterEditMode($event)">${value}</span></template>'}),define("text!custom-elements/dialogs/area-screenshot.html",["module"],function(e){e.exports='<template><ux-dialog class="area-screenshot" trap-focus><ux-dialog-head class="area-screenshot__head"><ux-dialog-header class="area-screenshot__header"><p class="area-screenshot__title"> ${settings.isEditMode ? "Update Page Object screenshot" : "New Page Object file"} </p></ux-dialog-header></ux-dialog-head><ux-dialog-body class="area-screenshot__body"><div class="area-screenshot__message">${settings.isEditMode ? "Draw a rectangle in the browser window to replace the screenshot representing your Page Object." : "Draw a rectangle in the browser window to take a screenshot representing your new Page Object." }<br><img class="area-screenshot__image" src.bind="screenshotImage"><br>You can update the screenshot later by clicking the screenshot icon <img class="area-screenshot__icon" src="images/icons/screenshot.svg">.</div></ux-dialog-body><ux-dialog-footer class="area-screenshot__footer"><button class="area-screenshot__footer-btn area-screenshot__footer-btn-cancel" click.trigger="controller.cancel()">Cancel</button> <button attach-focus="true" class="area-screenshot__footer-btn" disabled.bind="settings.isEditMode && isScreenshotPlaceholder" click.trigger="controller.ok()"> ${ (!settings.isEditMode && isScreenshotPlaceholder) ? "Skip" : "Continue"} </button></ux-dialog-footer></ux-dialog></template>'}),define("text!custom-elements/dialogs/confirm.html",["module"],function(e){e.exports='<template><ux-dialog class="confirm" trap-focus><ux-dialog-head class="confirm__head"><ux-dialog-header class="confirm__header"><p class="confirm__title"> ${settings.title} </p></ux-dialog-header></ux-dialog-head><ux-dialog-body class="confirm__body"><div class="confirm__message" innerhtml.bind="settings.message"></div></ux-dialog-body><ux-dialog-footer class="confirm__footer"><button class="confirm__footer-btn confirm__footer-btn-cancel" click.trigger="controller.cancel()" if.bind="settings.cancelable">Cancel</button> <button attach-focus="true" class="confirm__footer-btn confirm__footer-btn-${option.value}" click.trigger="controller.ok({value: option.value})" repeat.for="option of settings.options">${option.label}</button></ux-dialog-footer></ux-dialog></template>'}),define("text!custom-elements/dialogs/form.html",["module"],function(e){e.exports='<template><ux-dialog class="form" trap-focus><ux-dialog-head class="form__head"><ux-dialog-header class="form__header"><p class="form__title"> ${settings.title} </p></ux-dialog-header></ux-dialog-head><ux-dialog-body class="form__body"><div class="form__message" innerhtml.bind="settings.message"></div><div class="form__input-holder"><div repeat.for="input of settings.inputs"><div class="form__input-row"><img src.bind="input.icon" class="form__input-icon" if.bind="input.icon"> <input type.bind="input.type" ref="settingsInputElements[$index]" class="form__input-field" class.bind="!input.validator(input.value) ? \'form__input-field--validation-failed\' : \'\' " value.two-way="input.value" placeholder.bind="input.placeholder" name.bind="input.name"></div><span if.bind="!input.validator(input.value) && input.validationFailedText" class="form__validation-failed-notice ${input.icon ? \'form__validation-failed-notice--margin\' : \'\'}">${input.validationFailedText}</span></div></div></ux-dialog-body><ux-dialog-footer class="form__footer"><button class="form__footer-btn form__footer-btn-cancel" click.trigger="controller.cancel()" if.bind="settings.cancelable">Cancel</button> <button attach-focus="true" disabled.bind="!canSave" class="form__footer-btn form__footer-btn--positive" click.trigger="controller.ok()">${settings.confirmLabel || \'Save\'}</button></ux-dialog-footer></ux-dialog></template>'}),define("text!custom-elements/labeled-checkbox/labeled-checkbox.html",["module"],function(e){e.exports='<template><div class="toolbar-shadow vertical"><label class="toolbar-item checkbox"><input type="checkbox" class="checkbox-input" checked.bind="checked"><div class="dt-checkbox-text"><slot></slot></div></label></div></template>'}),define("text!custom-elements/notification-box/notification-box.html",["module"],function(e){e.exports='<template><div class="notification" if.bind="show"><img class="notification__icon" src.bind="settings.icon" alt="Notification icon"><div class="notification__title">${settings.title}</div><div class="notification__description"> ${settings.description} </div></div></template>'}),define("text!custom-elements/page-object-panel/page-object-panel.html",["module"],function(e){e.exports='<template class="page-object-panel"><div if.bind="!currentFile" class="page-object-panel__label page-object-panel__label--inactive">No Page Object file opened</div><div if.bind="currentFile" class="page-object-panel__label"><img src.bind="panelIconSrc" if.bind="panelIconSrc" class="page-object-panel__icon page-object-panel__icon--no-border"> <span class="page-object-panel__label-text">${currentFile.fileName}</span></div><button class="page-object-panel__screenshot" click.delegate="editScreensot()" title="Edit Page Object screenshot" disabled.bind="!currentFile"></button><div class="page-object-panel__divider"></div><button class="page-object-panel__create ${currentFile ? \'page-object-panel__create--greyed-out\' : \'\'}" title="Create new Page Object" click.delegate="startPOCreation()">Create new Page Object</button><notification-box settings.bind="notificationSettings"></notification-box></template>'}),define("text!custom-elements/tree-outline/tree-outline-item.html",["module"],function(e){e.exports='<template><li click.delegate="handleClick(e)" role="treeitem" class="parent ${(index % 2) ? \'odd-row\' : \'\'} ${modifiers}"><slot></slot></li></template>'}),define("text!custom-elements/tree-outline/tree-outline.html",["module"],function(e){e.exports='<template><ul class="tree-outline"><slot></slot></ul></template>'});